var rt=Object.defineProperty;var Zr=Object.getOwnPropertySymbols;var at=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;var Wr=(a,e,t)=>e in a?rt(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,ea=(a,e)=>{for(var t in e||(e={}))at.call(e,t)&&Wr(a,t,e[t]);if(Zr)for(var t of Zr(e))tt.call(e,t)&&Wr(a,t,e[t]);return a};import{_ as st,r as ot,o as Ve,c as qe,w as nt,a as ge,F as lt,b as it,d as ft,e as ut,t as ar,f as ht,p as ct,g as vt,h as Ge,i as dt,v as mt}from"./index.ddc8329d.js";async function ra(a,e,t){const l=await fetch(`http://localhost:3000/api${a}`,ea({method:e,headers:{"Content-Type":"application/json","Corss-Origin":"*"}},t&&{body:JSON.stringify(t)}));if(!l.ok)throw l;return await l.json()}var pt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},_r={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(a,e){(function(t,l){l(e)})(pt,function(t){function l(){for(var f=arguments.length,s=Array(f),u=0;u<f;u++)s[u]=arguments[u];if(s.length>1){s[0]=s[0].slice(0,-1);for(var P=s.length-1,y=1;y<P;++y)s[y]=s[y].slice(1,-1);return s[P]=s[P].slice(1),s.join("")}else return s[0]}function r(f){return"(?:"+f+")"}function o(f){return f===void 0?"undefined":f===null?"null":Object.prototype.toString.call(f).split(" ").pop().split("]").shift().toLowerCase()}function h(f){return f.toUpperCase()}function i(f){return f!=null?f instanceof Array?f:typeof f.length!="number"||f.split||f.setInterval||f.call?[f]:Array.prototype.slice.call(f):[]}function b(f,s){var u=f;if(s)for(var P in s)u[P]=s[P];return u}function E(f){var s="[A-Za-z]",u="[0-9]",P=l(u,"[A-Fa-f]"),y=r(r("%[EFef]"+P+"%"+P+P+"%"+P+P)+"|"+r("%[89A-Fa-f]"+P+"%"+P+P)+"|"+r("%"+P+P)),N="[\\:\\/\\?\\#\\[\\]\\@]",z="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",M=l(N,z),G=f?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ae=f?"[\\uE000-\\uF8FF]":"[]",Q=l(s,u,"[\\-\\.\\_\\~]",G);r(s+l(s,u,"[\\+\\-\\.]")+"*"),r(r(y+"|"+l(Q,z,"[\\:]"))+"*");var J=r(r("25[0-5]")+"|"+r("2[0-4]"+u)+"|"+r("1"+u+u)+"|"+r("0?[1-9]"+u)+"|0?0?"+u),te=r(J+"\\."+J+"\\."+J+"\\."+J),k=r(P+"{1,4}"),Y=r(r(k+"\\:"+k)+"|"+te),ne=r(r(k+"\\:")+"{6}"+Y),X=r("\\:\\:"+r(k+"\\:")+"{5}"+Y),Ie=r(r(k)+"?\\:\\:"+r(k+"\\:")+"{4}"+Y),Se=r(r(r(k+"\\:")+"{0,1}"+k)+"?\\:\\:"+r(k+"\\:")+"{3}"+Y),be=r(r(r(k+"\\:")+"{0,2}"+k)+"?\\:\\:"+r(k+"\\:")+"{2}"+Y),ke=r(r(r(k+"\\:")+"{0,3}"+k)+"?\\:\\:"+k+"\\:"+Y),Le=r(r(r(k+"\\:")+"{0,4}"+k)+"?\\:\\:"+Y),Pe=r(r(r(k+"\\:")+"{0,5}"+k)+"?\\:\\:"+k),_e=r(r(r(k+"\\:")+"{0,6}"+k)+"?\\:\\:"),Ne=r([ne,X,Ie,Se,be,ke,Le,Pe,_e].join("|")),Re=r(r(Q+"|"+y)+"+");r("[vV]"+P+"+\\."+l(Q,z,"[\\:]")+"+"),r(r(y+"|"+l(Q,z))+"*");var Be=r(y+"|"+l(Q,z,"[\\:\\@]"));return r(r(y+"|"+l(Q,z,"[\\@]"))+"+"),r(r(Be+"|"+l("[\\/\\?]",ae))+"*"),{NOT_SCHEME:new RegExp(l("[^]",s,u,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(l("[^\\%\\:]",Q,z),"g"),NOT_HOST:new RegExp(l("[^\\%\\[\\]\\:]",Q,z),"g"),NOT_PATH:new RegExp(l("[^\\%\\/\\:\\@]",Q,z),"g"),NOT_PATH_NOSCHEME:new RegExp(l("[^\\%\\/\\@]",Q,z),"g"),NOT_QUERY:new RegExp(l("[^\\%]",Q,z,"[\\:\\@\\/\\?]",ae),"g"),NOT_FRAGMENT:new RegExp(l("[^\\%]",Q,z,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(l("[^]",Q,z),"g"),UNRESERVED:new RegExp(Q,"g"),OTHER_CHARS:new RegExp(l("[^\\%]",Q,M),"g"),PCT_ENCODED:new RegExp(y,"g"),IPV4ADDRESS:new RegExp("^("+te+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ne+")"+r(r("\\%25|\\%(?!"+P+"{2})")+"("+Re+")")+"?\\]?$")}}var p=E(!1),d=E(!0),g=function(){function f(s,u){var P=[],y=!0,N=!1,z=void 0;try{for(var M=s[Symbol.iterator](),G;!(y=(G=M.next()).done)&&(P.push(G.value),!(u&&P.length===u));y=!0);}catch(ae){N=!0,z=ae}finally{try{!y&&M.return&&M.return()}finally{if(N)throw z}}return P}return function(s,u){if(Array.isArray(s))return s;if(Symbol.iterator in Object(s))return f(s,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(f){if(Array.isArray(f)){for(var s=0,u=Array(f.length);s<f.length;s++)u[s]=f[s];return u}else return Array.from(f)},c=2147483647,m=36,v=1,S=26,F=38,_=700,D=72,R=128,O="-",C=/^xn--/,A=/[^\0-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=m-v,x=Math.floor,$=String.fromCharCode;function w(f){throw new RangeError(j[f])}function T(f,s){for(var u=[],P=f.length;P--;)u[P]=s(f[P]);return u}function H(f,s){var u=f.split("@"),P="";u.length>1&&(P=u[0]+"@",f=u[1]),f=f.replace(I,".");var y=f.split("."),N=T(y,s).join(".");return P+N}function V(f){for(var s=[],u=0,P=f.length;u<P;){var y=f.charCodeAt(u++);if(y>=55296&&y<=56319&&u<P){var N=f.charCodeAt(u++);(N&64512)==56320?s.push(((y&1023)<<10)+(N&1023)+65536):(s.push(y),u--)}else s.push(y)}return s}var K=function(s){return String.fromCodePoint.apply(String,n(s))},q=function(s){return s-48<10?s-22:s-65<26?s-65:s-97<26?s-97:m},U=function(s,u){return s+22+75*(s<26)-((u!=0)<<5)},se=function(s,u,P){var y=0;for(s=P?x(s/_):s>>1,s+=x(s/u);s>L*S>>1;y+=m)s=x(s/L);return x(y+(L+1)*s/(s+F))},ue=function(s){var u=[],P=s.length,y=0,N=R,z=D,M=s.lastIndexOf(O);M<0&&(M=0);for(var G=0;G<M;++G)s.charCodeAt(G)>=128&&w("not-basic"),u.push(s.charCodeAt(G));for(var ae=M>0?M+1:0;ae<P;){for(var Q=y,J=1,te=m;;te+=m){ae>=P&&w("invalid-input");var k=q(s.charCodeAt(ae++));(k>=m||k>x((c-y)/J))&&w("overflow"),y+=k*J;var Y=te<=z?v:te>=z+S?S:te-z;if(k<Y)break;var ne=m-Y;J>x(c/ne)&&w("overflow"),J*=ne}var X=u.length+1;z=se(y-Q,X,Q==0),x(y/X)>c-N&&w("overflow"),N+=x(y/X),y%=X,u.splice(y++,0,N)}return String.fromCodePoint.apply(String,u)},ce=function(s){var u=[];s=V(s);var P=s.length,y=R,N=0,z=D,M=!0,G=!1,ae=void 0;try{for(var Q=s[Symbol.iterator](),J;!(M=(J=Q.next()).done);M=!0){var te=J.value;te<128&&u.push($(te))}}catch(Je){G=!0,ae=Je}finally{try{!M&&Q.return&&Q.return()}finally{if(G)throw ae}}var k=u.length,Y=k;for(k&&u.push(O);Y<P;){var ne=c,X=!0,Ie=!1,Se=void 0;try{for(var be=s[Symbol.iterator](),ke;!(X=(ke=be.next()).done);X=!0){var Le=ke.value;Le>=y&&Le<ne&&(ne=Le)}}catch(Je){Ie=!0,Se=Je}finally{try{!X&&be.return&&be.return()}finally{if(Ie)throw Se}}var Pe=Y+1;ne-y>x((c-N)/Pe)&&w("overflow"),N+=(ne-y)*Pe,y=ne;var _e=!0,Ne=!1,Re=void 0;try{for(var Be=s[Symbol.iterator](),Jr;!(_e=(Jr=Be.next()).done);_e=!0){var Gr=Jr.value;if(Gr<y&&++N>c&&w("overflow"),Gr==y){for(var We=N,er=m;;er+=m){var rr=er<=z?v:er>=z+S?S:er-z;if(We<rr)break;var Yr=We-rr,Xr=m-rr;u.push($(U(rr+Yr%Xr,0))),We=x(Yr/Xr)}u.push($(U(We,0))),z=se(N,Pe,Y==k),N=0,++Y}}}catch(Je){Ne=!0,Re=Je}finally{try{!_e&&Be.return&&Be.return()}finally{if(Ne)throw Re}}++N,++y}return u.join("")},B=function(s){return H(s,function(u){return C.test(u)?ue(u.slice(4).toLowerCase()):u})},we=function(s){return H(s,function(u){return A.test(u)?"xn--"+ce(u):u})},me={version:"2.1.0",ucs2:{decode:V,encode:K},decode:ue,encode:ce,toASCII:we,toUnicode:B},re={};function de(f){var s=f.charCodeAt(0),u=void 0;return s<16?u="%0"+s.toString(16).toUpperCase():s<128?u="%"+s.toString(16).toUpperCase():s<2048?u="%"+(s>>6|192).toString(16).toUpperCase()+"%"+(s&63|128).toString(16).toUpperCase():u="%"+(s>>12|224).toString(16).toUpperCase()+"%"+(s>>6&63|128).toString(16).toUpperCase()+"%"+(s&63|128).toString(16).toUpperCase(),u}function ye(f){for(var s="",u=0,P=f.length;u<P;){var y=parseInt(f.substr(u+1,2),16);if(y<128)s+=String.fromCharCode(y),u+=3;else if(y>=194&&y<224){if(P-u>=6){var N=parseInt(f.substr(u+4,2),16);s+=String.fromCharCode((y&31)<<6|N&63)}else s+=f.substr(u,6);u+=6}else if(y>=224){if(P-u>=9){var z=parseInt(f.substr(u+4,2),16),M=parseInt(f.substr(u+7,2),16);s+=String.fromCharCode((y&15)<<12|(z&63)<<6|M&63)}else s+=f.substr(u,9);u+=9}else s+=f.substr(u,3),u+=3}return s}function oe(f,s){function u(P){var y=ye(P);return y.match(s.UNRESERVED)?y:P}return f.scheme&&(f.scheme=String(f.scheme).replace(s.PCT_ENCODED,u).toLowerCase().replace(s.NOT_SCHEME,"")),f.userinfo!==void 0&&(f.userinfo=String(f.userinfo).replace(s.PCT_ENCODED,u).replace(s.NOT_USERINFO,de).replace(s.PCT_ENCODED,h)),f.host!==void 0&&(f.host=String(f.host).replace(s.PCT_ENCODED,u).toLowerCase().replace(s.NOT_HOST,de).replace(s.PCT_ENCODED,h)),f.path!==void 0&&(f.path=String(f.path).replace(s.PCT_ENCODED,u).replace(f.scheme?s.NOT_PATH:s.NOT_PATH_NOSCHEME,de).replace(s.PCT_ENCODED,h)),f.query!==void 0&&(f.query=String(f.query).replace(s.PCT_ENCODED,u).replace(s.NOT_QUERY,de).replace(s.PCT_ENCODED,h)),f.fragment!==void 0&&(f.fragment=String(f.fragment).replace(s.PCT_ENCODED,u).replace(s.NOT_FRAGMENT,de).replace(s.PCT_ENCODED,h)),f}function Z(f){return f.replace(/^0*(.*)/,"$1")||"0"}function $e(f,s){var u=f.match(s.IPV4ADDRESS)||[],P=g(u,2),y=P[1];return y?y.split(".").map(Z).join("."):f}function he(f,s){var u=f.match(s.IPV6ADDRESS)||[],P=g(u,3),y=P[1],N=P[2];if(y){for(var z=y.toLowerCase().split("::").reverse(),M=g(z,2),G=M[0],ae=M[1],Q=ae?ae.split(":").map(Z):[],J=G.split(":").map(Z),te=s.IPV4ADDRESS.test(J[J.length-1]),k=te?7:8,Y=J.length-k,ne=Array(k),X=0;X<k;++X)ne[X]=Q[X]||J[Y+X]||"";te&&(ne[k-1]=$e(ne[k-1],s));var Ie=ne.reduce(function(Pe,_e,Ne){if(!_e||_e==="0"){var Re=Pe[Pe.length-1];Re&&Re.index+Re.length===Ne?Re.length++:Pe.push({index:Ne,length:1})}return Pe},[]),Se=Ie.sort(function(Pe,_e){return _e.length-Pe.length})[0],be=void 0;if(Se&&Se.length>1){var ke=ne.slice(0,Se.index),Le=ne.slice(Se.index+Se.length);be=ke.join(":")+"::"+Le.join(":")}else be=ne.join(":");return N&&(be+="%"+N),be}else return f}var W=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Fe="".match(/(){0}/)[1]===void 0;function ve(f){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={},P=s.iri!==!1?d:p;s.reference==="suffix"&&(f=(s.scheme?s.scheme+":":"")+"//"+f);var y=f.match(W);if(y){Fe?(u.scheme=y[1],u.userinfo=y[3],u.host=y[4],u.port=parseInt(y[5],10),u.path=y[6]||"",u.query=y[7],u.fragment=y[8],isNaN(u.port)&&(u.port=y[5])):(u.scheme=y[1]||void 0,u.userinfo=f.indexOf("@")!==-1?y[3]:void 0,u.host=f.indexOf("//")!==-1?y[4]:void 0,u.port=parseInt(y[5],10),u.path=y[6]||"",u.query=f.indexOf("?")!==-1?y[7]:void 0,u.fragment=f.indexOf("#")!==-1?y[8]:void 0,isNaN(u.port)&&(u.port=f.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?y[4]:void 0)),u.host&&(u.host=he($e(u.host,P),P)),u.scheme===void 0&&u.userinfo===void 0&&u.host===void 0&&u.port===void 0&&!u.path&&u.query===void 0?u.reference="same-document":u.scheme===void 0?u.reference="relative":u.fragment===void 0?u.reference="absolute":u.reference="uri",s.reference&&s.reference!=="suffix"&&s.reference!==u.reference&&(u.error=u.error||"URI is not a "+s.reference+" reference.");var N=re[(s.scheme||u.scheme||"").toLowerCase()];if(!s.unicodeSupport&&(!N||!N.unicodeSupport)){if(u.host&&(s.domainHost||N&&N.domainHost))try{u.host=me.toASCII(u.host.replace(P.PCT_ENCODED,ye).toLowerCase())}catch(z){u.error=u.error||"Host's domain name can not be converted to ASCII via punycode: "+z}oe(u,p)}else oe(u,P);N&&N.parse&&N.parse(u,s)}else u.error=u.error||"URI can not be parsed.";return u}function ze(f,s){var u=s.iri!==!1?d:p,P=[];return f.userinfo!==void 0&&(P.push(f.userinfo),P.push("@")),f.host!==void 0&&P.push(he($e(String(f.host),u),u).replace(u.IPV6ADDRESS,function(y,N,z){return"["+N+(z?"%25"+z:"")+"]"})),(typeof f.port=="number"||typeof f.port=="string")&&(P.push(":"),P.push(String(f.port))),P.length?P.join(""):void 0}var je=/^\.\.?\//,fe=/^\/\.(\/|$)/,Oe=/^\/\.\.(\/|$)/,Me=/^\/?(?:.|\n)*?(?=\/|$)/;function le(f){for(var s=[];f.length;)if(f.match(je))f=f.replace(je,"");else if(f.match(fe))f=f.replace(fe,"/");else if(f.match(Oe))f=f.replace(Oe,"/"),s.pop();else if(f==="."||f==="..")f="";else{var u=f.match(Me);if(u){var P=u[0];f=f.slice(P.length),s.push(P)}else throw new Error("Unexpected dot segment condition")}return s.join("")}function ie(f){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=s.iri?d:p,P=[],y=re[(s.scheme||f.scheme||"").toLowerCase()];if(y&&y.serialize&&y.serialize(f,s),f.host&&!u.IPV6ADDRESS.test(f.host)){if(s.domainHost||y&&y.domainHost)try{f.host=s.iri?me.toUnicode(f.host):me.toASCII(f.host.replace(u.PCT_ENCODED,ye).toLowerCase())}catch(M){f.error=f.error||"Host's domain name can not be converted to "+(s.iri?"Unicode":"ASCII")+" via punycode: "+M}}oe(f,u),s.reference!=="suffix"&&f.scheme&&(P.push(f.scheme),P.push(":"));var N=ze(f,s);if(N!==void 0&&(s.reference!=="suffix"&&P.push("//"),P.push(N),f.path&&f.path.charAt(0)!=="/"&&P.push("/")),f.path!==void 0){var z=f.path;!s.absolutePath&&(!y||!y.absolutePath)&&(z=le(z)),N===void 0&&(z=z.replace(/^\/\//,"/%2F")),P.push(z)}return f.query!==void 0&&(P.push("?"),P.push(f.query)),f.fragment!==void 0&&(P.push("#"),P.push(f.fragment)),P.join("")}function pe(f,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=arguments[3],y={};return P||(f=ve(ie(f,u),u),s=ve(ie(s,u),u)),u=u||{},!u.tolerant&&s.scheme?(y.scheme=s.scheme,y.userinfo=s.userinfo,y.host=s.host,y.port=s.port,y.path=le(s.path||""),y.query=s.query):(s.userinfo!==void 0||s.host!==void 0||s.port!==void 0?(y.userinfo=s.userinfo,y.host=s.host,y.port=s.port,y.path=le(s.path||""),y.query=s.query):(s.path?(s.path.charAt(0)==="/"?y.path=le(s.path):((f.userinfo!==void 0||f.host!==void 0||f.port!==void 0)&&!f.path?y.path="/"+s.path:f.path?y.path=f.path.slice(0,f.path.lastIndexOf("/")+1)+s.path:y.path=s.path,y.path=le(y.path)),y.query=s.query):(y.path=f.path,s.query!==void 0?y.query=s.query:y.query=f.query),y.userinfo=f.userinfo,y.host=f.host,y.port=f.port),y.scheme=f.scheme),y.fragment=s.fragment,y}function Ze(f,s,u){var P=b({scheme:"null"},u);return ie(pe(ve(f,P),ve(s,P),P,!0),P)}function gr(f,s){return typeof f=="string"?f=ie(ve(f,s),s):o(f)==="object"&&(f=ve(ie(f,s),s)),f}function yr(f,s,u){return typeof f=="string"?f=ie(ve(f,u),u):o(f)==="object"&&(f=ie(f,u)),typeof s=="string"?s=ie(ve(s,u),u):o(s)==="object"&&(s=ie(s,u)),f===s}function Qa(f,s){return f&&f.toString().replace(!s||!s.iri?p.ESCAPE:d.ESCAPE,de)}function De(f,s){return f&&f.toString().replace(!s||!s.iri?p.PCT_ENCODED:d.PCT_ENCODED,ye)}var He={scheme:"http",domainHost:!0,parse:function(s,u){return s.host||(s.error=s.error||"HTTP URIs must have a host."),s},serialize:function(s,u){var P=String(s.scheme).toLowerCase()==="https";return(s.port===(P?443:80)||s.port==="")&&(s.port=void 0),s.path||(s.path="/"),s}},kr={scheme:"https",domainHost:He.domainHost,parse:He.parse,serialize:He.serialize};function Vr(f){return typeof f.secure=="boolean"?f.secure:String(f.scheme).toLowerCase()==="wss"}var Ke={scheme:"ws",domainHost:!0,parse:function(s,u){var P=s;return P.secure=Vr(P),P.resourceName=(P.path||"/")+(P.query?"?"+P.query:""),P.path=void 0,P.query=void 0,P},serialize:function(s,u){if((s.port===(Vr(s)?443:80)||s.port==="")&&(s.port=void 0),typeof s.secure=="boolean"&&(s.scheme=s.secure?"wss":"ws",s.secure=void 0),s.resourceName){var P=s.resourceName.split("?"),y=g(P,2),N=y[0],z=y[1];s.path=N&&N!=="/"?N:void 0,s.query=z,s.resourceName=void 0}return s.fragment=void 0,s}},qr={scheme:"wss",domainHost:Ke.domainHost,parse:Ke.parse,serialize:Ke.serialize},Ma={},Qr="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ee="[0-9A-Fa-f]",Ha=r(r("%[EFef]"+Ee+"%"+Ee+Ee+"%"+Ee+Ee)+"|"+r("%[89A-Fa-f]"+Ee+"%"+Ee+Ee)+"|"+r("%"+Ee+Ee)),Ka="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ba="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ja=l(Ba,'[\\"\\\\]'),Ga="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ya=new RegExp(Qr,"g"),Ue=new RegExp(Ha,"g"),Xa=new RegExp(l("[^]",Ka,"[\\.]",'[\\"]',Ja),"g"),Mr=new RegExp(l("[^]",Qr,Ga),"g"),Za=Mr;function Pr(f){var s=ye(f);return s.match(Ya)?s:f}var Hr={scheme:"mailto",parse:function(s,u){var P=s,y=P.to=P.path?P.path.split(","):[];if(P.path=void 0,P.query){for(var N=!1,z={},M=P.query.split("&"),G=0,ae=M.length;G<ae;++G){var Q=M[G].split("=");switch(Q[0]){case"to":for(var J=Q[1].split(","),te=0,k=J.length;te<k;++te)y.push(J[te]);break;case"subject":P.subject=De(Q[1],u);break;case"body":P.body=De(Q[1],u);break;default:N=!0,z[De(Q[0],u)]=De(Q[1],u);break}}N&&(P.headers=z)}P.query=void 0;for(var Y=0,ne=y.length;Y<ne;++Y){var X=y[Y].split("@");if(X[0]=De(X[0]),u.unicodeSupport)X[1]=De(X[1],u).toLowerCase();else try{X[1]=me.toASCII(De(X[1],u).toLowerCase())}catch(Ie){P.error=P.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ie}y[Y]=X.join("@")}return P},serialize:function(s,u){var P=s,y=i(s.to);if(y){for(var N=0,z=y.length;N<z;++N){var M=String(y[N]),G=M.lastIndexOf("@"),ae=M.slice(0,G).replace(Ue,Pr).replace(Ue,h).replace(Xa,de),Q=M.slice(G+1);try{Q=u.iri?me.toUnicode(Q):me.toASCII(De(Q,u).toLowerCase())}catch(Y){P.error=P.error||"Email address's domain name can not be converted to "+(u.iri?"Unicode":"ASCII")+" via punycode: "+Y}y[N]=ae+"@"+Q}P.path=y.join(",")}var J=s.headers=s.headers||{};s.subject&&(J.subject=s.subject),s.body&&(J.body=s.body);var te=[];for(var k in J)J[k]!==Ma[k]&&te.push(k.replace(Ue,Pr).replace(Ue,h).replace(Mr,de)+"="+J[k].replace(Ue,Pr).replace(Ue,h).replace(Za,de));return te.length&&(P.query=te.join("&")),P}},Wa=/^([^\:]+)\:(.*)/,Kr={scheme:"urn",parse:function(s,u){var P=s.path&&s.path.match(Wa),y=s;if(P){var N=u.scheme||y.scheme||"urn",z=P[1].toLowerCase(),M=P[2],G=N+":"+(u.nid||z),ae=re[G];y.nid=z,y.nss=M,y.path=void 0,ae&&(y=ae.parse(y,u))}else y.error=y.error||"URN can not be parsed.";return y},serialize:function(s,u){var P=u.scheme||s.scheme||"urn",y=s.nid,N=P+":"+(u.nid||y),z=re[N];z&&(s=z.serialize(s,u));var M=s,G=s.nss;return M.path=(y||u.nid)+":"+G,M}},et=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Br={scheme:"urn:uuid",parse:function(s,u){var P=s;return P.uuid=P.nss,P.nss=void 0,!u.tolerant&&(!P.uuid||!P.uuid.match(et))&&(P.error=P.error||"UUID is not valid."),P},serialize:function(s,u){var P=s;return P.nss=(s.uuid||"").toLowerCase(),P}};re[He.scheme]=He,re[kr.scheme]=kr,re[Ke.scheme]=Ke,re[qr.scheme]=qr,re[Hr.scheme]=Hr,re[Kr.scheme]=Kr,re[Br.scheme]=Br,t.SCHEMES=re,t.pctEncChar=de,t.pctDecChars=ye,t.parse=ve,t.removeDotSegments=le,t.serialize=ie,t.resolveComponents=pe,t.resolve=Ze,t.normalize=gr,t.equal=yr,t.escapeComponent=Qa,t.unescapeComponent=De,Object.defineProperty(t,"__esModule",{value:!0})})})(_r,_r.exports);var Ar=function a(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var l,r,o;if(Array.isArray(e)){if(l=e.length,l!=t.length)return!1;for(r=l;r--!==0;)if(!a(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),l=o.length,l!==Object.keys(t).length)return!1;for(r=l;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=l;r--!==0;){var h=o[r];if(!a(e[h],t[h]))return!1}return!0}return e!==e&&t!==t},gt=function(e){for(var t=0,l=e.length,r=0,o;r<l;)t++,o=e.charCodeAt(r++),o>=55296&&o<=56319&&r<l&&(o=e.charCodeAt(r),(o&64512)==56320&&r++);return t},Qe={copy:yt,checkDataType:wr,checkDataTypes:Pt,coerceToTypes:Et,toHash:xr,getProperty:Cr,escapeQuotes:jr,equal:Ar,ucs2length:gt,varOccurences:_t,varReplace:wt,schemaHasRules:$t,schemaHasRulesExcept:Dt,schemaUnknownRules:Rt,toQuotedString:$r,getPathExpr:Ft,getPath:Ot,getData:xt,unescapeFragment:Ct,unescapeJsonPointer:Nr,escapeFragment:jt,escapeJsonPointer:Lr};function yt(a,e){e=e||{};for(var t in a)e[t]=a[t];return e}function wr(a,e,t,l){var r=l?" !== ":" === ",o=l?" || ":" && ",h=l?"!":"",i=l?"":"!";switch(a){case"null":return e+r+"null";case"array":return h+"Array.isArray("+e+")";case"object":return"("+h+e+o+"typeof "+e+r+'"object"'+o+i+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+o+i+"("+e+" % 1)"+o+e+r+e+(t?o+h+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+a+'"'+(t?o+h+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+a+'"'}}function Pt(a,e,t){switch(a.length){case 1:return wr(a[0],e,t,!0);default:var l="",r=xr(a);r.array&&r.object&&(l=r.null?"(":"(!"+e+" || ",l+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var o in r)l+=(l?" && ":"")+wr(o,e,t,!0);return l}}var aa=xr(["string","number","integer","boolean","null"]);function Et(a,e){if(Array.isArray(e)){for(var t=[],l=0;l<e.length;l++){var r=e[l];(aa[r]||a==="array"&&r==="array")&&(t[t.length]=r)}if(t.length)return t}else{if(aa[e])return[e];if(a==="array"&&e==="array")return["array"]}}function xr(a){for(var e={},t=0;t<a.length;t++)e[a[t]]=!0;return e}var St=/^[a-z$_][a-z$_0-9]*$/i,bt=/'|\\/g;function Cr(a){return typeof a=="number"?"["+a+"]":St.test(a)?"."+a:"['"+jr(a)+"']"}function jr(a){return a.replace(bt,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function _t(a,e){e+="[^0-9]";var t=a.match(new RegExp(e,"g"));return t?t.length:0}function wt(a,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),a.replace(new RegExp(e,"g"),t+"$1")}function $t(a,e){if(typeof a=="boolean")return!a;for(var t in a)if(e[t])return!0}function Dt(a,e,t){if(typeof a=="boolean")return!a&&t!="not";for(var l in a)if(l!=t&&e[l])return!0}function Rt(a,e){if(typeof a!="boolean"){for(var t in a)if(!e[t])return t}}function $r(a){return"'"+jr(a)+"'"}function Ft(a,e,t,l){var r=t?"'/' + "+e+(l?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):l?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return da(a,r)}function Ot(a,e,t){var l=$r(t?"/"+Lr(e):Cr(e));return da(a,l)}var It=/^\/(?:[^~]|~0|~1)*$/,At=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function xt(a,e,t){var l,r,o,h;if(a==="")return"rootData";if(a[0]=="/"){if(!It.test(a))throw new Error("Invalid JSON-pointer: "+a);r=a,o="rootData"}else{if(h=a.match(At),!h)throw new Error("Invalid JSON-pointer: "+a);if(l=+h[1],r=h[2],r=="#"){if(l>=e)throw new Error("Cannot access property/index "+l+" levels up, current level is "+e);return t[e-l]}if(l>e)throw new Error("Cannot access data "+l+" levels up, current level is "+e);if(o="data"+(e-l||""),!r)return o}for(var i=o,b=r.split("/"),E=0;E<b.length;E++){var p=b[E];p&&(o+=Cr(Nr(p)),i+=" && "+o)}return i}function da(a,e){return a=='""'?e:(a+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function Ct(a){return Nr(decodeURIComponent(a))}function jt(a){return encodeURIComponent(Lr(a))}function Lr(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}function Nr(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}var Lt=Qe,ma=Nt;function Nt(a){Lt.copy(a,this)}var pa={exports:{}},Ae=pa.exports=function(a,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var l=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};nr(e,l,r,a,"",a)};Ae.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Ae.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ae.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ae.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function nr(a,e,t,l,r,o,h,i,b,E){if(l&&typeof l=="object"&&!Array.isArray(l)){e(l,r,o,h,i,b,E);for(var p in l){var d=l[p];if(Array.isArray(d)){if(p in Ae.arrayKeywords)for(var g=0;g<d.length;g++)nr(a,e,t,d[g],r+"/"+p+"/"+g,o,r,p,l,g)}else if(p in Ae.propsKeywords){if(d&&typeof d=="object")for(var n in d)nr(a,e,t,d[n],r+"/"+p+"/"+Tt(n),o,r,p,l,n)}else(p in Ae.keywords||a.allKeys&&!(p in Ae.skipKeywords))&&nr(a,e,t,d,r+"/"+p,o,r,p,l)}t(l,r,o,h,i,b,E)}}function Tt(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}var Ye=_r.exports,ta=Ar,cr=Qe,lr=ma,zt=pa.exports,Tr=Ce;Ce.normalizeId=xe;Ce.fullPath=ir;Ce.url=fr;Ce.ids=Qt;Ce.inlineRef=Dr;Ce.schema=vr;function Ce(a,e,t){var l=this._refs[t];if(typeof l=="string")if(this._refs[l])l=this._refs[l];else return Ce.call(this,a,e,l);if(l=l||this._schemas[t],l instanceof lr)return Dr(l.schema,this._opts.inlineRefs)?l.schema:l.validate||this._compile(l);var r=vr.call(this,e,t),o,h,i;return r&&(o=r.schema,e=r.root,i=r.baseId),o instanceof lr?h=o.validate||a.call(this,o.schema,e,void 0,i):o!==void 0&&(h=Dr(o,this._opts.inlineRefs)?o:a.call(this,o,e,void 0,i)),h}function vr(a,e){var t=Ye.parse(e),l=ya(t),r=ir(this._getId(a.schema));if(Object.keys(a.schema).length===0||l!==r){var o=xe(l),h=this._refs[o];if(typeof h=="string")return Ut.call(this,a,h,t);if(h instanceof lr)h.validate||this._compile(h),a=h;else if(h=this._schemas[o],h instanceof lr){if(h.validate||this._compile(h),o==xe(e))return{schema:h,root:a,baseId:r};a=h}else return;if(!a.schema)return;r=ir(this._getId(a.schema))}return ga.call(this,t,r,a.schema,a)}function Ut(a,e,t){var l=vr.call(this,a,e);if(l){var r=l.schema,o=l.baseId;a=l.root;var h=this._getId(r);return h&&(o=fr(o,h)),ga.call(this,t,o,r,a)}}var kt=cr.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function ga(a,e,t,l){if(a.fragment=a.fragment||"",a.fragment.slice(0,1)=="/"){for(var r=a.fragment.split("/"),o=1;o<r.length;o++){var h=r[o];if(h){if(h=cr.unescapeFragment(h),t=t[h],t===void 0)break;var i;if(!kt[h]&&(i=this._getId(t),i&&(e=fr(e,i)),t.$ref)){var b=fr(e,t.$ref),E=vr.call(this,l,b);E&&(t=E.schema,l=E.root,e=E.baseId)}}}if(t!==void 0&&t!==l.schema)return{schema:t,root:l,baseId:e}}}var Vt=cr.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Dr(a,e){if(e===!1)return!1;if(e===void 0||e===!0)return Rr(a);if(e)return Fr(a)<=e}function Rr(a){var e;if(Array.isArray(a)){for(var t=0;t<a.length;t++)if(e=a[t],typeof e=="object"&&!Rr(e))return!1}else for(var l in a)if(l=="$ref"||(e=a[l],typeof e=="object"&&!Rr(e)))return!1;return!0}function Fr(a){var e=0,t;if(Array.isArray(a)){for(var l=0;l<a.length;l++)if(t=a[l],typeof t=="object"&&(e+=Fr(t)),e==1/0)return 1/0}else for(var r in a){if(r=="$ref")return 1/0;if(Vt[r])e++;else if(t=a[r],typeof t=="object"&&(e+=Fr(t)+1),e==1/0)return 1/0}return e}function ir(a,e){e!==!1&&(a=xe(a));var t=Ye.parse(a);return ya(t)}function ya(a){return Ye.serialize(a).split("#")[0]+"#"}var qt=/#\/?$/;function xe(a){return a?a.replace(qt,""):""}function fr(a,e){return e=xe(e),Ye.resolve(a,e)}function Qt(a){var e=xe(this._getId(a)),t={"":e},l={"":ir(e,!1)},r={},o=this;return zt(a,{allKeys:!0},function(h,i,b,E,p,d,g){if(i!==""){var n=o._getId(h),c=t[E],m=l[E]+"/"+p;if(g!==void 0&&(m+="/"+(typeof g=="number"?g:cr.escapeFragment(g))),typeof n=="string"){n=c=xe(c?Ye.resolve(c,n):n);var v=o._refs[n];if(typeof v=="string"&&(v=o._refs[v]),v&&v.schema){if(!ta(h,v.schema))throw new Error('id "'+n+'" resolves to more than one schema')}else if(n!=xe(m))if(n[0]=="#"){if(r[n]&&!ta(h,r[n]))throw new Error('id "'+n+'" resolves to more than one schema');r[n]=h}else o._refs[n]=m}t[i]=c,l[i]=m}}),r}var Er=Tr,zr={Validation:sa(Mt),MissingRef:sa(Ur)};function Mt(a){this.message="validation failed",this.errors=a,this.ajv=this.validation=!0}Ur.message=function(a,e){return"can't resolve reference "+e+" from id "+a};function Ur(a,e,t){this.message=t||Ur.message(a,e),this.missingRef=Er.url(a,e),this.missingSchema=Er.normalizeId(Er.fullPath(this.missingRef))}function sa(a){return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}var Pa=function(a,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,l=e.cmp&&function(o){return function(h){return function(i,b){var E={key:i,value:h[i]},p={key:b,value:h[b]};return o(E,p)}}}(e.cmp),r=[];return function o(h){if(h&&h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),h!==void 0){if(typeof h=="number")return isFinite(h)?""+h:"null";if(typeof h!="object")return JSON.stringify(h);var i,b;if(Array.isArray(h)){for(b="[",i=0;i<h.length;i++)i&&(b+=","),b+=o(h[i])||"null";return b+"]"}if(h===null)return"null";if(r.indexOf(h)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var E=r.push(h)-1,p=Object.keys(h).sort(l&&l(h));for(b="",i=0;i<p.length;i++){var d=p[i],g=o(h[d]);!g||(b&&(b+=","),b+=JSON.stringify(d)+":"+g)}return r.splice(E,1),"{"+b+"}"}}(a)},Ea=function(e,t,l){var r="",o=e.schema.$async===!0,h=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),i=e.self._getId(e.schema);if(e.opts.strictKeywords){var b=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(b){var E="unknown keyword: "+b;if(e.opts.strictKeywords==="log")e.logger.warn(E);else throw new Error(E)}}if(e.isTop&&(r+=" var validate = ",o&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",i&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+i+" */")+" ")),typeof e.schema=="boolean"||!(h||e.schema.$ref)){var t="false schema",p=e.level,d=e.dataLevel,g=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,R=!e.opts.allErrors,A,m="data"+(d||""),D="valid"+p;if(e.schema===!1){e.isTop?R=!0:r+=" var "+D+" = false; ";var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(A||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var S=r;r=v.pop(),!e.compositeRule&&R?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?o?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+D+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var F=e.isTop,p=e.level=0,d=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var _="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(_);else throw new Error(_)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var p=e.level,d=e.dataLevel,m="data"+(d||"");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),o&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+p+" = errors;"}var D="valid"+p,R=!e.opts.allErrors,O="",C="",A,I=e.schema.type,j=Array.isArray(I);if(I&&e.opts.nullable&&e.schema.nullable===!0&&(j?I.indexOf("null")==-1&&(I=I.concat("null")):I!="null"&&(I=[I,"null"],j=!0)),j&&I.length==1&&(I=I[0],j=!1),e.schema.$ref&&h){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(h=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),I){if(e.opts.coerceTypes)var L=e.util.coerceToTypes(e.opts.coerceTypes,I);var x=e.RULES.types[I];if(L||j||x===!0||x&&!fe(x)){var n=e.schemaPath+".type",c=e.errSchemaPath+"/type",n=e.schemaPath+".type",c=e.errSchemaPath+"/type",$=j?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[$](I,m,e.opts.strictNumbers,!0)+") { ",L){var w="dataType"+p,T="coerced"+p;r+=" var "+w+" = typeof "+m+"; var "+T+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+w+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+w+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+T+" = "+m+"; } "),r+=" if ("+T+" !== undefined) ; ";var H=L;if(H)for(var V,K=-1,q=H.length-1;K<q;)V=H[K+=1],V=="string"?r+=" else if ("+w+" == 'number' || "+w+" == 'boolean') "+T+" = '' + "+m+"; else if ("+m+" === null) "+T+" = ''; ":V=="number"||V=="integer"?(r+=" else if ("+w+" == 'boolean' || "+m+" === null || ("+w+" == 'string' && "+m+" && "+m+" == +"+m+" ",V=="integer"&&(r+=" && !("+m+" % 1)"),r+=")) "+T+" = +"+m+"; "):V=="boolean"?r+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+T+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+T+" = true; ":V=="null"?r+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+T+" = null; ":e.opts.coerceTypes=="array"&&V=="array"&&(r+=" else if ("+w+" == 'string' || "+w+" == 'number' || "+w+" == 'boolean' || "+m+" == null) "+T+" = ["+m+"]; ");r+=" else {   ";var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(A||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",j?r+=""+I.join(","):r+=""+I,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",j?r+=""+I.join(","):r+=""+I,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var S=r;r=v.pop(),!e.compositeRule&&R?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+T+" !== undefined) {  ";var U=d?"data"+(d-1||""):"parentData",se=d?e.dataPathArr[d]:"parentDataProperty";r+=" "+m+" = "+T+"; ",d||(r+="if ("+U+" !== undefined)"),r+=" "+U+"["+se+"] = "+T+"; } "}else{var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(A||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",j?r+=""+I.join(","):r+=""+I,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",j?r+=""+I.join(","):r+=""+I,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var S=r;r=v.pop(),!e.compositeRule&&R?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!h)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",R&&(r+=" } if (errors === ",F?r+="0":r+="errs_"+p,r+=") { ",C+="}");else{var ue=e.RULES;if(ue){for(var x,ce=-1,B=ue.length-1;ce<B;)if(x=ue[ce+=1],fe(x)){if(x.type&&(r+=" if ("+e.util.checkDataType(x.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(x.type=="object"&&e.schema.properties){var g=e.schema.properties,we=Object.keys(g),me=we;if(me)for(var re,de=-1,ye=me.length-1;de<ye;){re=me[de+=1];var oe=g[re];if(oe.default!==void 0){var Z=m+e.util.getProperty(re);if(e.compositeRule){if(e.opts.strictDefaults){var _="default is ignored for: "+Z;if(e.opts.strictDefaults==="log")e.logger.warn(_);else throw new Error(_)}}else r+=" if ("+Z+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+Z+" === null || "+Z+" === '' "),r+=" ) "+Z+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(oe.default)+" ":r+=" "+JSON.stringify(oe.default)+" ",r+="; "}}}else if(x.type=="array"&&Array.isArray(e.schema.items)){var $e=e.schema.items;if($e){for(var oe,K=-1,he=$e.length-1;K<he;)if(oe=$e[K+=1],oe.default!==void 0){var Z=m+"["+K+"]";if(e.compositeRule){if(e.opts.strictDefaults){var _="default is ignored for: "+Z;if(e.opts.strictDefaults==="log")e.logger.warn(_);else throw new Error(_)}}else r+=" if ("+Z+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+Z+" === null || "+Z+" === '' "),r+=" ) "+Z+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(oe.default)+" ":r+=" "+JSON.stringify(oe.default)+" ",r+="; "}}}}var W=x.rules;if(W){for(var Fe,ve=-1,ze=W.length-1;ve<ze;)if(Fe=W[ve+=1],Oe(Fe)){var je=Fe.code(e,Fe.keyword,x.type);je&&(r+=" "+je+" ",R&&(O+="}"))}}if(R&&(r+=" "+O+" ",O=""),x.type&&(r+=" } ",I&&I===x.type&&!L)){r+=" else { ";var n=e.schemaPath+".type",c=e.errSchemaPath+"/type",v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(A||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",j?r+=""+I.join(","):r+=""+I,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",j?r+=""+I.join(","):r+=""+I,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var S=r;r=v.pop(),!e.compositeRule&&R?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}R&&(r+=" if (errors === ",F?r+="0":r+="errs_"+p,r+=") { ",C+="}")}}}R&&(r+=" "+C+" "),F?(o?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+D+" = errors === errs_"+p+";";function fe(le){for(var ie=le.rules,pe=0;pe<ie.length;pe++)if(Oe(ie[pe]))return!0}function Oe(le){return e.schema[le.keyword]!==void 0||le.implements&&Me(le)}function Me(le){for(var ie=le.implements,pe=0;pe<ie.length;pe++)if(e.schema[ie[pe]]!==void 0)return!0}return r},tr=Tr,ur=Qe,Sa=zr,Ht=Pa,oa=Ea,Kt=ur.ucs2length,Bt=Ar,Jt=Sa.Validation,Gt=Or;function Or(a,e,t,l){var r=this,o=this._opts,h=[void 0],i={},b=[],E={},p=[],d={},g=[];e=e||{schema:a,refVal:h,refs:i};var n=Yt.call(this,a,e,l),c=this._compilations[n.index];if(n.compiling)return c.callValidate=_;var m=this._formats,v=this.RULES;try{var S=D(a,e,t,l);c.validate=S;var F=c.callValidate;return F&&(F.schema=S.schema,F.errors=null,F.refs=S.refs,F.refVal=S.refVal,F.root=S.root,F.$async=S.$async,o.sourceCode&&(F.source=S.source)),S}finally{Xt.call(this,a,e,l)}function _(){var $=c.validate,w=$.apply(this,arguments);return _.errors=$.errors,w}function D($,w,T,H){var V=!w||w&&w.schema==$;if(w.schema!=e.schema)return Or.call(r,$,w,T,H);var K=$.$async===!0,q=oa({isTop:!0,schema:$,isRoot:V,baseId:H,root:w,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Sa.MissingRef,RULES:v,validate:oa,util:ur,resolve:tr,resolveRef:R,usePattern:j,useDefault:L,useCustomRule:x,opts:o,formats:m,logger:r.logger,self:r});q=sr(h,es)+sr(b,Zt)+sr(p,Wt)+sr(g,rs)+q,o.processCode&&(q=o.processCode(q,$));var U;try{var se=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",q);U=se(r,v,m,e,h,p,g,Bt,Kt,Jt),h[0]=U}catch(ue){throw r.logger.error("Error compiling schema, function code:",q),ue}return U.schema=$,U.errors=null,U.refs=i,U.refVal=h,U.root=V?U:w,K&&(U.$async=!0),o.sourceCode===!0&&(U.source={code:q,patterns:b,defaults:p}),U}function R($,w,T){w=tr.url($,w);var H=i[w],V,K;if(H!==void 0)return V=h[H],K="refVal["+H+"]",I(V,K);if(!T&&e.refs){var q=e.refs[w];if(q!==void 0)return V=e.refVal[q],K=O(w,V),I(V,K)}K=O(w);var U=tr.call(r,D,e,w);if(U===void 0){var se=t&&t[w];se&&(U=tr.inlineRef(se,o.inlineRefs)?se:Or.call(r,se,e,t,$))}if(U===void 0)C(w);else return A(w,U),I(U,K)}function O($,w){var T=h.length;return h[T]=w,i[$]=T,"refVal"+T}function C($){delete i[$]}function A($,w){var T=i[$];h[T]=w}function I($,w){return typeof $=="object"||typeof $=="boolean"?{code:w,schema:$,inline:!0}:{code:w,$async:$&&!!$.$async}}function j($){var w=E[$];return w===void 0&&(w=E[$]=b.length,b[w]=$),"pattern"+w}function L($){switch(typeof $){case"boolean":case"number":return""+$;case"string":return ur.toQuotedString($);case"object":if($===null)return"null";var w=Ht($),T=d[w];return T===void 0&&(T=d[w]=p.length,p[T]=$),"default"+T}}function x($,w,T,H){if(r._opts.validateSchema!==!1){var V=$.definition.dependencies;if(V&&!V.every(function(me){return Object.prototype.hasOwnProperty.call(T,me)}))throw new Error("parent schema must have all required keywords: "+V.join(","));var K=$.definition.validateSchema;if(K){var q=K(w);if(!q){var U="keyword schema is invalid: "+r.errorsText(K.errors);if(r._opts.validateSchema=="log")r.logger.error(U);else throw new Error(U)}}}var se=$.definition.compile,ue=$.definition.inline,ce=$.definition.macro,B;if(se)B=se.call(r,w,T,H);else if(ce)B=ce.call(r,w,T,H),o.validateSchema!==!1&&r.validateSchema(B,!0);else if(ue)B=ue.call(r,H,$.keyword,w,T);else if(B=$.definition.validate,!B)return;if(B===void 0)throw new Error('custom keyword "'+$.keyword+'"failed to compile');var we=g.length;return g[we]=B,{code:"customRule"+we,validate:B}}}function Yt(a,e,t){var l=ba.call(this,a,e,t);return l>=0?{index:l,compiling:!0}:(l=this._compilations.length,this._compilations[l]={schema:a,root:e,baseId:t},{index:l,compiling:!1})}function Xt(a,e,t){var l=ba.call(this,a,e,t);l>=0&&this._compilations.splice(l,1)}function ba(a,e,t){for(var l=0;l<this._compilations.length;l++){var r=this._compilations[l];if(r.schema==a&&r.root==e&&r.baseId==t)return l}return-1}function Zt(a,e){return"var pattern"+a+" = new RegExp("+ur.toQuotedString(e[a])+");"}function Wt(a){return"var default"+a+" = defaults["+a+"];"}function es(a,e){return e[a]===void 0?"":"var refVal"+a+" = refVal["+a+"];"}function rs(a){return"var customRule"+a+" = customRules["+a+"];"}function sr(a,e){if(!a.length)return"";for(var t="",l=0;l<a.length;l++)t+=e(l,a);return t}var _a={exports:{}},dr=_a.exports=function(){this._cache={}};dr.prototype.put=function(e,t){this._cache[e]=t};dr.prototype.get=function(e){return this._cache[e]};dr.prototype.del=function(e){delete this._cache[e]};dr.prototype.clear=function(){this._cache={}};var as=Qe,ts=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,ss=[0,31,28,31,30,31,30,31,31,30,31,30,31],os=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,wa=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ns=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,ls=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,$a=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Da=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Ra=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Fa=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Oa=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Ia=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,is=mr;function mr(a){return a=a=="full"?"full":"fast",as.copy(mr[a])}mr.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":$a,url:Da,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:wa,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Ca,uuid:Ra,"json-pointer":Fa,"json-pointer-uri-fragment":Oa,"relative-json-pointer":Ia};mr.full={date:Aa,time:xa,"date-time":hs,uri:vs,"uri-reference":ls,"uri-template":$a,url:Da,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:wa,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Ca,uuid:Ra,"json-pointer":Fa,"json-pointer-uri-fragment":Oa,"relative-json-pointer":Ia};function fs(a){return a%4===0&&(a%100!==0||a%400===0)}function Aa(a){var e=a.match(ts);if(!e)return!1;var t=+e[1],l=+e[2],r=+e[3];return l>=1&&l<=12&&r>=1&&r<=(l==2&&fs(t)?29:ss[l])}function xa(a,e){var t=a.match(os);if(!t)return!1;var l=t[1],r=t[2],o=t[3],h=t[5];return(l<=23&&r<=59&&o<=59||l==23&&r==59&&o==60)&&(!e||h)}var us=/t|\s/i;function hs(a){var e=a.split(us);return e.length==2&&Aa(e[0])&&xa(e[1],!0)}var cs=/\/|:/;function vs(a){return cs.test(a)&&ns.test(a)}var ds=/[^\\]\\Z/;function Ca(a){if(ds.test(a))return!1;try{return new RegExp(a),!0}catch{return!1}}var ms=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.errSchemaPath+"/"+t,E=!e.opts.allErrors,p="data"+(h||""),d="valid"+o,g,n;if(i=="#"||i=="#/")e.isRoot?(g=e.async,n="validate"):(g=e.root.schema.$async===!0,n="root.refVal[0]");else{var c=e.resolveRef(e.baseId,i,e.isRoot);if(c===void 0){var m=e.MissingRefError.message(e.baseId,i);if(e.opts.missingRefs=="fail"){e.logger.error(m);var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(b)+" , params: { ref: '"+e.util.escapeQuotes(i)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(i)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(i)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var S=r;r=v.pop(),!e.compositeRule&&E?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(m),E&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,i,m)}else if(c.inline){var F=e.util.copy(e);F.level++;var _="valid"+F.level;F.schema=c.schema,F.schemaPath="",F.errSchemaPath=i;var D=e.validate(F).replace(/validate\.schema/g,c.code);r+=" "+D+" ",E&&(r+=" if ("+_+") { ")}else g=c.$async===!0||e.async&&c.$async!==!1,n=c.code}if(n){var v=v||[];v.push(r),r="",e.opts.passContext?r+=" "+n+".call(this, ":r+=" "+n+"( ",r+=" "+p+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var R=h?"data"+(h-1||""):"parentData",O=h?e.dataPathArr[h]:"parentDataProperty";r+=" , "+R+" , "+O+", rootData)  ";var C=r;if(r=v.pop(),g){if(!e.async)throw new Error("async schema referenced by sync schema");E&&(r+=" var "+d+"; "),r+=" try { await "+C+"; ",E&&(r+=" "+d+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",E&&(r+=" "+d+" = false; "),r+=" } ",E&&(r+=" if ("+d+") { ")}else r+=" if (!"+C+") { if (vErrors === null) vErrors = "+n+".errors; else vErrors = vErrors.concat("+n+".errors); errors = vErrors.length; } ",E&&(r+=" else { ")}return r},ps=function(e,t,l){var r=" ",o=e.schema[t],h=e.schemaPath+e.util.getProperty(t),i=e.errSchemaPath+"/"+t,b=!e.opts.allErrors,E=e.util.copy(e),p="";E.level++;var d="valid"+E.level,g=E.baseId,n=!0,c=o;if(c)for(var m,v=-1,S=c.length-1;v<S;)m=c[v+=1],(e.opts.strictKeywords?typeof m=="object"&&Object.keys(m).length>0||m===!1:e.util.schemaHasRules(m,e.RULES.all))&&(n=!1,E.schema=m,E.schemaPath=h+"["+v+"]",E.errSchemaPath=i+"/"+v,r+="  "+e.validate(E)+" ",E.baseId=g,b&&(r+=" if ("+d+") { ",p+="}"));return b&&(n?r+=" if (true) { ":r+=" "+p.slice(0,-1)+" "),r},gs=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="valid"+o,n="errs__"+o,c=e.util.copy(e),m="";c.level++;var v="valid"+c.level,S=i.every(function(A){return e.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0||A===!1:e.util.schemaHasRules(A,e.RULES.all)});if(S){var F=c.baseId;r+=" var "+n+" = errors; var "+g+" = false;  ";var _=e.compositeRule;e.compositeRule=c.compositeRule=!0;var D=i;if(D)for(var R,O=-1,C=D.length-1;O<C;)R=D[O+=1],c.schema=R,c.schemaPath=b+"["+O+"]",c.errSchemaPath=E+"/"+O,r+="  "+e.validate(c)+" ",c.baseId=F,r+=" "+g+" = "+g+" || "+v+"; if (!"+g+") { ",m+="}";e.compositeRule=c.compositeRule=_,r+=" "+m+" if (!"+g+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else p&&(r+=" if (true) { ");return r},ys=function(e,t,l){var r=" ",o=e.schema[t],h=e.errSchemaPath+"/"+t;e.opts.allErrors;var i=e.util.toQuotedString(o);return e.opts.$comment===!0?r+=" console.log("+i+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+i+", "+e.util.toQuotedString(h)+", validate.root.schema);"),r},Ps=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="valid"+o,n=e.opts.$data&&i&&i.$data;n&&(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; "),n||(r+=" var schema"+o+" = validate.schema"+b+";"),r+="var "+g+" = equal("+d+", schema"+o+"); if (!"+g+") {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { allowedValue: schema"+o+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var m=r;return r=c.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",p&&(r+=" else { "),r},Es=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="valid"+o,n="errs__"+o,c=e.util.copy(e),m="";c.level++;var v="valid"+c.level,S="i"+o,F=c.dataLevel=e.dataLevel+1,_="data"+F,D=e.baseId,R=e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all);if(r+="var "+n+" = errors;var "+g+";",R){var O=e.compositeRule;e.compositeRule=c.compositeRule=!0,c.schema=i,c.schemaPath=b,c.errSchemaPath=E,r+=" var "+v+" = false; for (var "+S+" = 0; "+S+" < "+d+".length; "+S+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0);var C=d+"["+S+"]";c.dataPathArr[F]=S;var A=e.validate(c);c.baseId=D,e.util.varOccurences(A,_)<2?r+=" "+e.util.varReplace(A,_,C)+" ":r+=" var "+_+" = "+C+"; "+A+" ",r+=" if ("+v+") break; }  ",e.compositeRule=c.compositeRule=O,r+=" "+m+" if (!"+v+") {"}else r+=" if ("+d+".length == 0) {";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var j=r;return r=I.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+j+"]); ":r+=" validate.errors = ["+j+"]; return false; ":r+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",R&&(r+="  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},Ss=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="errs__"+o,n=e.util.copy(e),c="";n.level++;var m="valid"+n.level,v={},S={},F=e.opts.ownProperties;for(O in i)if(O!="__proto__"){var _=i[O],D=Array.isArray(_)?S:v;D[O]=_}r+="var "+g+" = errors;";var R=e.errorPath;r+="var missing"+o+";";for(var O in S)if(D=S[O],D.length){if(r+=" if ( "+d+e.util.getProperty(O)+" !== undefined ",F&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(O)+"') "),p){r+=" && ( ";var C=D;if(C)for(var A,I=-1,j=C.length-1;I<j;){A=C[I+=1],I&&(r+=" || ");var L=e.util.getProperty(A),x=d+L;r+=" ( ( "+x+" === undefined ",F&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(A)+"') "),r+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?A:L)+") ) "}r+=")) {  ";var $="missing"+o,w="' + "+$+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(R,$,!0):R+" + "+$);var T=T||[];T.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { property: '"+e.util.escapeQuotes(O)+"', missingProperty: '"+w+"', depsCount: "+D.length+", deps: '"+e.util.escapeQuotes(D.length==1?D[0]:D.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",D.length==1?r+="property "+e.util.escapeQuotes(D[0]):r+="properties "+e.util.escapeQuotes(D.join(", ")),r+=" when property "+e.util.escapeQuotes(O)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var H=r;r=T.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+H+"]); ":r+=" validate.errors = ["+H+"]; return false; ":r+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var V=D;if(V)for(var A,K=-1,q=V.length-1;K<q;){A=V[K+=1];var L=e.util.getProperty(A),w=e.util.escapeQuotes(A),x=d+L;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(R,A,e.opts.jsonPointers)),r+=" if ( "+x+" === undefined ",F&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(A)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { property: '"+e.util.escapeQuotes(O)+"', missingProperty: '"+w+"', depsCount: "+D.length+", deps: '"+e.util.escapeQuotes(D.length==1?D[0]:D.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",D.length==1?r+="property "+e.util.escapeQuotes(D[0]):r+="properties "+e.util.escapeQuotes(D.join(", ")),r+=" when property "+e.util.escapeQuotes(O)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",p&&(c+="}",r+=" else { ")}e.errorPath=R;var U=n.baseId;for(var O in v){var _=v[O];(e.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:e.util.schemaHasRules(_,e.RULES.all))&&(r+=" "+m+" = true; if ( "+d+e.util.getProperty(O)+" !== undefined ",F&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(O)+"') "),r+=") { ",n.schema=_,n.schemaPath=b+e.util.getProperty(O),n.errSchemaPath=E+"/"+e.util.escapeFragment(O),r+="  "+e.validate(n)+" ",n.baseId=U,r+=" }  ",p&&(r+=" if ("+m+") { ",c+="}"))}return p&&(r+="   "+c+" if ("+g+" == errors) {"),r},bs=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="valid"+o,n=e.opts.$data&&i&&i.$data;n&&(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ");var c="i"+o,m="schema"+o;n||(r+=" var "+m+" = validate.schema"+b+";"),r+="var "+g+";",n&&(r+=" if (schema"+o+" === undefined) "+g+" = true; else if (!Array.isArray(schema"+o+")) "+g+" = false; else {"),r+=""+g+" = false;for (var "+c+"=0; "+c+"<"+m+".length; "+c+"++) if (equal("+d+", "+m+"["+c+"])) { "+g+" = true; break; }",n&&(r+="  }  "),r+=" if (!"+g+") {   ";var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { allowedValues: schema"+o+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=v.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",p&&(r+=" else { "),r},_s=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||"");if(e.opts.format===!1)return p&&(r+=" if (true) { "),r;var g=e.opts.$data&&i&&i.$data,n;g?(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=i;var c=e.opts.unknownFormats,m=Array.isArray(c);if(g){var v="format"+o,S="isObject"+o,F="formatType"+o;r+=" var "+v+" = formats["+n+"]; var "+S+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+F+" = "+S+" && "+v+".type || 'string'; if ("+S+") { ",e.async&&(r+=" var async"+o+" = "+v+".async; "),r+=" "+v+" = "+v+".validate; } if (  ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),r+=" (",c!="ignore"&&(r+=" ("+n+" && !"+v+" ",m&&(r+=" && self._opts.unknownFormats.indexOf("+n+") == -1 "),r+=") || "),r+=" ("+v+" && "+F+" == '"+l+"' && !(typeof "+v+" == 'function' ? ",e.async?r+=" (async"+o+" ? await "+v+"("+d+") : "+v+"("+d+")) ":r+=" "+v+"("+d+") ",r+=" : "+v+".test("+d+"))))) {"}else{var v=e.formats[i];if(!v){if(c=="ignore")return e.logger.warn('unknown format "'+i+'" ignored in schema at path "'+e.errSchemaPath+'"'),p&&(r+=" if (true) { "),r;if(m&&c.indexOf(i)>=0)return p&&(r+=" if (true) { "),r;throw new Error('unknown format "'+i+'" is used in schema at path "'+e.errSchemaPath+'"')}var S=typeof v=="object"&&!(v instanceof RegExp)&&v.validate,F=S&&v.type||"string";if(S){var _=v.async===!0;v=v.validate}if(F!=l)return p&&(r+=" if (true) { "),r;if(_){if(!e.async)throw new Error("async format in sync schema");var D="formats"+e.util.getProperty(i)+".validate";r+=" if (!(await "+D+"("+d+"))) { "}else{r+=" if (! ";var D="formats"+e.util.getProperty(i);S&&(D+=".validate"),typeof v=="function"?r+=" "+D+"("+d+") ":r+=" "+D+".test("+d+") ",r+=") { "}}var R=R||[];R.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { format:  ",g?r+=""+n:r+=""+e.util.toQuotedString(i),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,g?r+="' + "+n+" + '":r+=""+e.util.escapeQuotes(i),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+b:r+=""+e.util.toQuotedString(i),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var O=r;return r=R.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",p&&(r+=" else { "),r},ws=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="valid"+o,n="errs__"+o,c=e.util.copy(e);c.level++;var m="valid"+c.level,v=e.schema.then,S=e.schema.else,F=v!==void 0&&(e.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:e.util.schemaHasRules(v,e.RULES.all)),_=S!==void 0&&(e.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:e.util.schemaHasRules(S,e.RULES.all)),D=c.baseId;if(F||_){var R;c.createErrors=!1,c.schema=i,c.schemaPath=b,c.errSchemaPath=E,r+=" var "+n+" = errors; var "+g+" = true;  ";var O=e.compositeRule;e.compositeRule=c.compositeRule=!0,r+="  "+e.validate(c)+" ",c.baseId=D,c.createErrors=!0,r+="  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; }  ",e.compositeRule=c.compositeRule=O,F?(r+=" if ("+m+") {  ",c.schema=e.schema.then,c.schemaPath=e.schemaPath+".then",c.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(c)+" ",c.baseId=D,r+=" "+g+" = "+m+"; ",F&&_?(R="ifClause"+o,r+=" var "+R+" = 'then'; "):R="'then'",r+=" } ",_&&(r+=" else { ")):r+=" if (!"+m+") { ",_&&(c.schema=e.schema.else,c.schemaPath=e.schemaPath+".else",c.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(c)+" ",c.baseId=D,r+=" "+g+" = "+m+"; ",F&&_?(R="ifClause"+o,r+=" var "+R+" = 'else'; "):R="'else'",r+=" } "),r+=" if (!"+g+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { failingKeyword: "+R+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+R+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",p&&(r+=" else { ")}else p&&(r+=" if (true) { ");return r},$s=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="valid"+o,n="errs__"+o,c=e.util.copy(e),m="";c.level++;var v="valid"+c.level,S="i"+o,F=c.dataLevel=e.dataLevel+1,_="data"+F,D=e.baseId;if(r+="var "+n+" = errors;var "+g+";",Array.isArray(i)){var R=e.schema.additionalItems;if(R===!1){r+=" "+g+" = "+d+".length <= "+i.length+"; ";var O=E;E=e.errSchemaPath+"/additionalItems",r+="  if (!"+g+") {   ";var C=C||[];C.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { limit: "+i.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+i.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var A=r;r=C.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",E=O,p&&(m+="}",r+=" else { ")}var I=i;if(I){for(var j,L=-1,x=I.length-1;L<x;)if(j=I[L+=1],e.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:e.util.schemaHasRules(j,e.RULES.all)){r+=" "+v+" = true; if ("+d+".length > "+L+") { ";var $=d+"["+L+"]";c.schema=j,c.schemaPath=b+"["+L+"]",c.errSchemaPath=E+"/"+L,c.errorPath=e.util.getPathExpr(e.errorPath,L,e.opts.jsonPointers,!0),c.dataPathArr[F]=L;var w=e.validate(c);c.baseId=D,e.util.varOccurences(w,_)<2?r+=" "+e.util.varReplace(w,_,$)+" ":r+=" var "+_+" = "+$+"; "+w+" ",r+=" }  ",p&&(r+=" if ("+v+") { ",m+="}")}}if(typeof R=="object"&&(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all))){c.schema=R,c.schemaPath=e.schemaPath+".additionalItems",c.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+v+" = true; if ("+d+".length > "+i.length+") {  for (var "+S+" = "+i.length+"; "+S+" < "+d+".length; "+S+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0);var $=d+"["+S+"]";c.dataPathArr[F]=S;var w=e.validate(c);c.baseId=D,e.util.varOccurences(w,_)<2?r+=" "+e.util.varReplace(w,_,$)+" ":r+=" var "+_+" = "+$+"; "+w+" ",p&&(r+=" if (!"+v+") break; "),r+=" } }  ",p&&(r+=" if ("+v+") { ",m+="}")}}else if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){c.schema=i,c.schemaPath=b,c.errSchemaPath=E,r+="  for (var "+S+" = "+0+"; "+S+" < "+d+".length; "+S+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0);var $=d+"["+S+"]";c.dataPathArr[F]=S;var w=e.validate(c);c.baseId=D,e.util.varOccurences(w,_)<2?r+=" "+e.util.varReplace(w,_,$)+" ":r+=" var "+_+" = "+$+"; "+w+" ",p&&(r+=" if (!"+v+") break; "),r+=" }"}return p&&(r+=" "+m+" if ("+n+" == errors) {"),r},na=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,D,d="data"+(h||""),g=e.opts.$data&&i&&i.$data,n;g?(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=i;var c=t=="maximum",m=c?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[m],S=e.opts.$data&&v&&v.$data,F=c?"<":">",_=c?">":"<",D=void 0;if(!(g||typeof i=="number"||i===void 0))throw new Error(t+" must be number");if(!(S||v===void 0||typeof v=="number"||typeof v=="boolean"))throw new Error(m+" must be number or boolean");if(S){var R=e.util.getData(v.$data,h,e.dataPathArr),O="exclusive"+o,C="exclType"+o,A="exclIsNumber"+o,I="op"+o,j="' + "+I+" + '";r+=" var schemaExcl"+o+" = "+R+"; ",R="schemaExcl"+o,r+=" var "+O+"; var "+C+" = typeof "+R+"; if ("+C+" != 'boolean' && "+C+" != 'undefined' && "+C+" != 'number') { ";var D=m,L=L||[];L.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(D||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;r=L.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+C+" == 'number' ? ( ("+O+" = "+n+" === undefined || "+R+" "+F+"= "+n+") ? "+d+" "+_+"= "+R+" : "+d+" "+_+" "+n+" ) : ( ("+O+" = "+R+" === true) ? "+d+" "+_+"= "+n+" : "+d+" "+_+" "+n+" ) || "+d+" !== "+d+") { var op"+o+" = "+O+" ? '"+F+"' : '"+F+"='; ",i===void 0&&(D=m,E=e.errSchemaPath+"/"+m,n=R,g=S)}else{var A=typeof v=="number",j=F;if(A&&g){var I="'"+j+"'";r+=" if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" ( "+n+" === undefined || "+v+" "+F+"= "+n+" ? "+d+" "+_+"= "+v+" : "+d+" "+_+" "+n+" ) || "+d+" !== "+d+") { "}else{A&&i===void 0?(O=!0,D=m,E=e.errSchemaPath+"/"+m,n=v,_+="="):(A&&(n=Math[c?"min":"max"](v,i)),v===(A?n:!0)?(O=!0,D=m,E=e.errSchemaPath+"/"+m,_+="="):(O=!1,j+="="));var I="'"+j+"'";r+=" if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+d+" "+_+" "+n+" || "+d+" !== "+d+") { "}}D=D||t;var L=L||[];L.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(D||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { comparison: "+I+", limit: "+n+", exclusive: "+O+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+j+" ",g?r+="' + "+n:r+=""+n+"'"),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+b:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;return r=L.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",p&&(r+=" else { "),r},la=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,m,d="data"+(h||""),g=e.opts.$data&&i&&i.$data,n;if(g?(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=i,!(g||typeof i=="number"))throw new Error(t+" must be number");var c=t=="maxItems"?">":"<";r+="if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+d+".length "+c+" "+n+") { ";var m=t,v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(m||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { limit: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxItems"?r+="more":r+="fewer",r+=" than ",g?r+="' + "+n+" + '":r+=""+i,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+b:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=v.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",p&&(r+=" else { "),r},ia=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,m,d="data"+(h||""),g=e.opts.$data&&i&&i.$data,n;if(g?(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=i,!(g||typeof i=="number"))throw new Error(t+" must be number");var c=t=="maxLength"?">":"<";r+="if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),e.opts.unicode===!1?r+=" "+d+".length ":r+=" ucs2length("+d+") ",r+=" "+c+" "+n+") { ";var m=t,v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(m||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { limit: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",t=="maxLength"?r+="longer":r+="shorter",r+=" than ",g?r+="' + "+n+" + '":r+=""+i,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+b:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=v.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",p&&(r+=" else { "),r},fa=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,m,d="data"+(h||""),g=e.opts.$data&&i&&i.$data,n;if(g?(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=i,!(g||typeof i=="number"))throw new Error(t+" must be number");var c=t=="maxProperties"?">":"<";r+="if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" Object.keys("+d+").length "+c+" "+n+") { ";var m=t,v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(m||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { limit: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxProperties"?r+="more":r+="fewer",r+=" than ",g?r+="' + "+n+" + '":r+=""+i,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+b:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=v.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",p&&(r+=" else { "),r},Ds=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g=e.opts.$data&&i&&i.$data,n;if(g?(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=i,!(g||typeof i=="number"))throw new Error(t+" must be number");r+="var division"+o+";if (",g&&(r+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),r+=" (division"+o+" = "+d+" / "+n+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+o+" !== parseInt(division"+o+") ",r+=" ) ",g&&(r+="  )  "),r+=" ) {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { multipleOf: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",g?r+="' + "+n:r+=""+n+"'"),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+b:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var m=r;return r=c.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",p&&(r+=" else { "),r},Rs=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="errs__"+o,n=e.util.copy(e);n.level++;var c="valid"+n.level;if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){n.schema=i,n.schemaPath=b,n.errSchemaPath=E,r+=" var "+g+" = errors;  ";var m=e.compositeRule;e.compositeRule=n.compositeRule=!0,n.createErrors=!1;var v;n.opts.allErrors&&(v=n.opts.allErrors,n.opts.allErrors=!1),r+=" "+e.validate(n)+" ",n.createErrors=!0,v&&(n.opts.allErrors=v),e.compositeRule=n.compositeRule=m,r+=" if ("+c+") {   ";var S=S||[];S.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var F=r;r=S.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+F+"]); ":r+=" validate.errors = ["+F+"]; return false; ":r+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+g+"; if (vErrors !== null) { if ("+g+") vErrors.length = "+g+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p&&(r+=" if (false) { ");return r},Fs=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="valid"+o,n="errs__"+o,c=e.util.copy(e),m="";c.level++;var v="valid"+c.level,S=c.baseId,F="prevValid"+o,_="passingSchemas"+o;r+="var "+n+" = errors , "+F+" = false , "+g+" = false , "+_+" = null; ";var D=e.compositeRule;e.compositeRule=c.compositeRule=!0;var R=i;if(R)for(var O,C=-1,A=R.length-1;C<A;)O=R[C+=1],(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all))?(c.schema=O,c.schemaPath=b+"["+C+"]",c.errSchemaPath=E+"/"+C,r+="  "+e.validate(c)+" ",c.baseId=S):r+=" var "+v+" = true; ",C&&(r+=" if ("+v+" && "+F+") { "+g+" = false; "+_+" = ["+_+", "+C+"]; } else { ",m+="}"),r+=" if ("+v+") { "+g+" = "+F+" = true; "+_+" = "+C+"; }";return e.compositeRule=c.compositeRule=D,r+=""+m+"if (!"+g+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { passingSchemas: "+_+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},Os=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g=e.opts.$data&&i&&i.$data,n;g?(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=i;var c=g?"(new RegExp("+n+"))":e.usePattern(i);r+="if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),r+=" !"+c+".test("+d+") ) {   ";var m=m||[];m.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { pattern:  ",g?r+=""+n:r+=""+e.util.toQuotedString(i),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,g?r+="' + "+n+" + '":r+=""+e.util.escapeQuotes(i),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+b:r+=""+e.util.toQuotedString(i),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var v=r;return r=m.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",p&&(r+=" else { "),r},Is=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="errs__"+o,n=e.util.copy(e),c="";n.level++;var m="valid"+n.level,v="key"+o,S="idx"+o,F=n.dataLevel=e.dataLevel+1,_="data"+F,D="dataProperties"+o,R=Object.keys(i||{}).filter(K),O=e.schema.patternProperties||{},C=Object.keys(O).filter(K),A=e.schema.additionalProperties,I=R.length||C.length,j=A===!1,L=typeof A=="object"&&Object.keys(A).length,x=e.opts.removeAdditional,$=j||L||x,w=e.opts.ownProperties,T=e.baseId,H=e.schema.required;if(H&&!(e.opts.$data&&H.$data)&&H.length<e.opts.loopRequired)var V=e.util.toHash(H);function K(yr){return yr!=="__proto__"}if(r+="var "+g+" = errors;var "+m+" = true;",w&&(r+=" var "+D+" = undefined;"),$){if(w?r+=" "+D+" = "+D+" || Object.keys("+d+"); for (var "+S+"=0; "+S+"<"+D+".length; "+S+"++) { var "+v+" = "+D+"["+S+"]; ":r+=" for (var "+v+" in "+d+") { ",I){if(r+=" var isAdditional"+o+" = !(false ",R.length)if(R.length>8)r+=" || validate.schema"+b+".hasOwnProperty("+v+") ";else{var q=R;if(q)for(var U,se=-1,ue=q.length-1;se<ue;)U=q[se+=1],r+=" || "+v+" == "+e.util.toQuotedString(U)+" "}if(C.length){var ce=C;if(ce)for(var B,we=-1,me=ce.length-1;we<me;)B=ce[we+=1],r+=" || "+e.usePattern(B)+".test("+v+") "}r+=" ); if (isAdditional"+o+") { "}if(x=="all")r+=" delete "+d+"["+v+"]; ";else{var re=e.errorPath,de="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),j)if(x)r+=" delete "+d+"["+v+"]; ";else{r+=" "+m+" = false; ";var ye=E;E=e.errSchemaPath+"/additionalProperties";var oe=oe||[];oe.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { additionalProperty: '"+de+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var Z=r;r=oe.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+Z+"]); ":r+=" validate.errors = ["+Z+"]; return false; ":r+=" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E=ye,p&&(r+=" break; ")}else if(L)if(x=="failing"){r+=" var "+g+" = errors;  ";var $e=e.compositeRule;e.compositeRule=n.compositeRule=!0,n.schema=A,n.schemaPath=e.schemaPath+".additionalProperties",n.errSchemaPath=e.errSchemaPath+"/additionalProperties",n.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var he=d+"["+v+"]";n.dataPathArr[F]=v;var W=e.validate(n);n.baseId=T,e.util.varOccurences(W,_)<2?r+=" "+e.util.varReplace(W,_,he)+" ":r+=" var "+_+" = "+he+"; "+W+" ",r+=" if (!"+m+") { errors = "+g+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+v+"]; }  ",e.compositeRule=n.compositeRule=$e}else{n.schema=A,n.schemaPath=e.schemaPath+".additionalProperties",n.errSchemaPath=e.errSchemaPath+"/additionalProperties",n.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var he=d+"["+v+"]";n.dataPathArr[F]=v;var W=e.validate(n);n.baseId=T,e.util.varOccurences(W,_)<2?r+=" "+e.util.varReplace(W,_,he)+" ":r+=" var "+_+" = "+he+"; "+W+" ",p&&(r+=" if (!"+m+") break; ")}e.errorPath=re}I&&(r+=" } "),r+=" }  ",p&&(r+=" if ("+m+") { ",c+="}")}var Fe=e.opts.useDefaults&&!e.compositeRule;if(R.length){var ve=R;if(ve)for(var U,ze=-1,je=ve.length-1;ze<je;){U=ve[ze+=1];var fe=i[U];if(e.opts.strictKeywords?typeof fe=="object"&&Object.keys(fe).length>0||fe===!1:e.util.schemaHasRules(fe,e.RULES.all)){var Oe=e.util.getProperty(U),he=d+Oe,Me=Fe&&fe.default!==void 0;n.schema=fe,n.schemaPath=b+Oe,n.errSchemaPath=E+"/"+e.util.escapeFragment(U),n.errorPath=e.util.getPath(e.errorPath,U,e.opts.jsonPointers),n.dataPathArr[F]=e.util.toQuotedString(U);var W=e.validate(n);if(n.baseId=T,e.util.varOccurences(W,_)<2){W=e.util.varReplace(W,_,he);var le=he}else{var le=_;r+=" var "+_+" = "+he+"; "}if(Me)r+=" "+W+" ";else{if(V&&V[U]){r+=" if ( "+le+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(U)+"') "),r+=") { "+m+" = false; ";var re=e.errorPath,ye=E,ie=e.util.escapeQuotes(U);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(re,U,e.opts.jsonPointers)),E=e.errSchemaPath+"/required";var oe=oe||[];oe.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { missingProperty: '"+ie+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ie+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var Z=r;r=oe.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+Z+"]); ":r+=" validate.errors = ["+Z+"]; return false; ":r+=" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E=ye,e.errorPath=re,r+=" } else { "}else p?(r+=" if ( "+le+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(U)+"') "),r+=") { "+m+" = true; } else { "):(r+=" if ("+le+" !== undefined ",w&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(U)+"') "),r+=" ) { ");r+=" "+W+" } "}}p&&(r+=" if ("+m+") { ",c+="}")}}if(C.length){var pe=C;if(pe)for(var B,Ze=-1,gr=pe.length-1;Ze<gr;){B=pe[Ze+=1];var fe=O[B];if(e.opts.strictKeywords?typeof fe=="object"&&Object.keys(fe).length>0||fe===!1:e.util.schemaHasRules(fe,e.RULES.all)){n.schema=fe,n.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(B),n.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(B),w?r+=" "+D+" = "+D+" || Object.keys("+d+"); for (var "+S+"=0; "+S+"<"+D+".length; "+S+"++) { var "+v+" = "+D+"["+S+"]; ":r+=" for (var "+v+" in "+d+") { ",r+=" if ("+e.usePattern(B)+".test("+v+")) { ",n.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var he=d+"["+v+"]";n.dataPathArr[F]=v;var W=e.validate(n);n.baseId=T,e.util.varOccurences(W,_)<2?r+=" "+e.util.varReplace(W,_,he)+" ":r+=" var "+_+" = "+he+"; "+W+" ",p&&(r+=" if (!"+m+") break; "),r+=" } ",p&&(r+=" else "+m+" = true; "),r+=" }  ",p&&(r+=" if ("+m+") { ",c+="}")}}}return p&&(r+=" "+c+" if ("+g+" == errors) {"),r},As=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="errs__"+o,n=e.util.copy(e),c="";n.level++;var m="valid"+n.level;if(r+="var "+g+" = errors;",e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){n.schema=i,n.schemaPath=b,n.errSchemaPath=E;var v="key"+o,S="idx"+o,F="i"+o,_="' + "+v+" + '",D=n.dataLevel=e.dataLevel+1,R="data"+D,O="dataProperties"+o,C=e.opts.ownProperties,A=e.baseId;C&&(r+=" var "+O+" = undefined; "),C?r+=" "+O+" = "+O+" || Object.keys("+d+"); for (var "+S+"=0; "+S+"<"+O+".length; "+S+"++) { var "+v+" = "+O+"["+S+"]; ":r+=" for (var "+v+" in "+d+") { ",r+=" var startErrs"+o+" = errors; ";var I=v,j=e.compositeRule;e.compositeRule=n.compositeRule=!0;var L=e.validate(n);n.baseId=A,e.util.varOccurences(L,R)<2?r+=" "+e.util.varReplace(L,R,I)+" ":r+=" var "+R+" = "+I+"; "+L+" ",e.compositeRule=n.compositeRule=j,r+=" if (!"+m+") { for (var "+F+"=startErrs"+o+"; "+F+"<errors; "+F+"++) { vErrors["+F+"].propertyName = "+v+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { propertyName: '"+_+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+_+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),p&&(r+=" break; "),r+=" } }"}return p&&(r+=" "+c+" if ("+g+" == errors) {"),r},xs=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="valid"+o,n=e.opts.$data&&i&&i.$data;n&&(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ");var c="schema"+o;if(!n)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],v=i;if(v)for(var S,F=-1,_=v.length-1;F<_;){S=v[F+=1];var D=e.schema.properties[S];D&&(e.opts.strictKeywords?typeof D=="object"&&Object.keys(D).length>0||D===!1:e.util.schemaHasRules(D,e.RULES.all))||(m[m.length]=S)}}else var m=i;if(n||m.length){var R=e.errorPath,O=n||m.length>=e.opts.loopRequired,C=e.opts.ownProperties;if(p)if(r+=" var missing"+o+"; ",O){n||(r+=" var "+c+" = validate.schema"+b+"; ");var A="i"+o,I="schema"+o+"["+A+"]",j="' + "+I+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(R,I,e.opts.jsonPointers)),r+=" var "+g+" = true; ",n&&(r+=" if (schema"+o+" === undefined) "+g+" = true; else if (!Array.isArray(schema"+o+")) "+g+" = false; else {"),r+=" for (var "+A+" = 0; "+A+" < "+c+".length; "+A+"++) { "+g+" = "+d+"["+c+"["+A+"]] !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+c+"["+A+"]) "),r+="; if (!"+g+") break; } ",n&&(r+="  }  "),r+="  if (!"+g+") {   ";var L=L||[];L.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;r=L.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var $=m;if($)for(var w,A=-1,T=$.length-1;A<T;){w=$[A+=1],A&&(r+=" || ");var H=e.util.getProperty(w),V=d+H;r+=" ( ( "+V+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(w)+"') "),r+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:H)+") ) "}r+=") {  ";var I="missing"+o,j="' + "+I+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(R,I,!0):R+" + "+I);var L=L||[];L.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;r=L.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(O){n||(r+=" var "+c+" = validate.schema"+b+"; ");var A="i"+o,I="schema"+o+"["+A+"]",j="' + "+I+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(R,I,e.opts.jsonPointers)),n&&(r+=" if ("+c+" && !Array.isArray("+c+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+c+" !== undefined) { "),r+=" for (var "+A+" = 0; "+A+" < "+c+".length; "+A+"++) { if ("+d+"["+c+"["+A+"]] === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+c+"["+A+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",n&&(r+="  }  ")}else{var K=m;if(K)for(var w,q=-1,U=K.length-1;q<U;){w=K[q+=1];var H=e.util.getProperty(w),j=e.util.escapeQuotes(w),V=d+H;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(R,w,e.opts.jsonPointers)),r+=" if ( "+V+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(w)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=R}else p&&(r+=" if (true) {");return r},Cs=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(h||""),g="valid"+o,n=e.opts.$data&&i&&i.$data,c;if(n?(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",c="schema"+o):c=i,(i||n)&&e.opts.uniqueItems!==!1){n&&(r+=" var "+g+"; if ("+c+" === false || "+c+" === undefined) "+g+" = true; else if (typeof "+c+" != 'boolean') "+g+" = false; else { "),r+=" var i = "+d+".length , "+g+" = true , j; if (i > 1) { ";var m=e.schema.items&&e.schema.items.type,v=Array.isArray(m);if(!m||m=="object"||m=="array"||v&&(m.indexOf("object")>=0||m.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+g+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var S="checkDataType"+(v?"s":"");r+=" if ("+e.util[S](m,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+g+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",n&&(r+="  }  "),r+=" if (!"+g+") {   ";var F=F||[];F.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",n?r+="validate.schema"+b:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var _=r;r=F.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",p&&(r+=" else { ")}else p&&(r+=" if (true) { ");return r},js={$ref:ms,allOf:ps,anyOf:gs,$comment:ys,const:Ps,contains:Es,dependencies:Ss,enum:bs,format:_s,if:ws,items:$s,maximum:na,minimum:na,maxItems:la,minItems:la,maxLength:ia,minLength:ia,maxProperties:fa,minProperties:fa,multipleOf:Ds,not:Rs,oneOf:Fs,pattern:Os,properties:Is,propertyNames:As,required:xs,uniqueItems:Cs,validate:Ea},ua=js,Sr=Qe.toHash,Ls=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],l=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=Sr(t),e.types=Sr(r),e.forEach(function(o){o.rules=o.rules.map(function(h){var i;if(typeof h=="object"){var b=Object.keys(h)[0];i=h[b],h=b,i.forEach(function(p){t.push(p),e.all[p]=!0})}t.push(h);var E=e.all[h]={keyword:h,code:ua[h],implements:i};return E}),e.all.$comment={keyword:"$comment",code:ua.$comment},o.type&&(e.types[o.type]=o)}),e.keywords=Sr(t.concat(l)),e.custom={},e},ha=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],Ns=function(a,e){for(var t=0;t<e.length;t++){a=JSON.parse(JSON.stringify(a));var l=e[t].split("/"),r=a,o;for(o=1;o<l.length;o++)r=r[l[o]];for(o=0;o<ha.length;o++){var h=ha[o],i=r[h];i&&(r[h]={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return a},Ts=zr.MissingRef,zs=ja;function ja(a,e,t){var l=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var r=o(a).then(function(){var i=l._addSchema(a,void 0,e);return i.validate||h(i)});return t&&r.then(function(i){t(null,i)},t),r;function o(i){var b=i.$schema;return b&&!l.getSchema(b)?ja.call(l,{$ref:b},!0):Promise.resolve()}function h(i){try{return l._compile(i)}catch(E){if(E instanceof Ts)return b(E);throw E}function b(E){var p=E.missingSchema;if(n(p))throw new Error("Schema "+p+" is loaded but "+E.missingRef+" cannot be resolved");var d=l._loadingSchemas[p];return d||(d=l._loadingSchemas[p]=l._opts.loadSchema(p),d.then(g,g)),d.then(function(c){if(!n(p))return o(c).then(function(){n(p)||l.addSchema(c,p,void 0,e)})}).then(function(){return h(i)});function g(){delete l._loadingSchemas[p]}function n(c){return l._refs[c]||l._schemas[c]}}}}var Us=function(e,t,l){var r=" ",o=e.level,h=e.dataLevel,i=e.schema[t],b=e.schemaPath+e.util.getProperty(t),E=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d,g="data"+(h||""),n="valid"+o,c="errs__"+o,m=e.opts.$data&&i&&i.$data,v;m?(r+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",v="schema"+o):v=i;var S=this,F="definition"+o,_=S.definition,D="",R,O,C,A,I;if(m&&_.$data){I="keywordValidate"+o;var j=_.validateSchema;r+=" var "+F+" = RULES.custom['"+t+"'].definition; var "+I+" = "+F+".validate;"}else{if(A=e.useCustomRule(S,i,e.schema,e),!A)return;v="validate.schema"+b,I=A.code,R=_.compile,O=_.inline,C=_.macro}var L=I+".errors",x="i"+o,$="ruleErr"+o,w=_.async;if(w&&!e.async)throw new Error("async keyword in sync schema");if(O||C||(r+=""+L+" = null;"),r+="var "+c+" = errors;var "+n+";",m&&_.$data&&(D+="}",r+=" if ("+v+" === undefined) { "+n+" = true; } else { ",j&&(D+="}",r+=" "+n+" = "+F+".validateSchema("+v+"); if ("+n+") { ")),O)_.statements?r+=" "+A.validate+" ":r+=" "+n+" = "+A.validate+"; ";else if(C){var T=e.util.copy(e),D="";T.level++;var H="valid"+T.level;T.schema=A.validate,T.schemaPath="";var V=e.compositeRule;e.compositeRule=T.compositeRule=!0;var K=e.validate(T).replace(/validate\.schema/g,I);e.compositeRule=T.compositeRule=V,r+=" "+K}else{var q=q||[];q.push(r),r="",r+="  "+I+".call( ",e.opts.passContext?r+="this":r+="self",R||_.schema===!1?r+=" , "+g+" ":r+=" , "+v+" , "+g+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var U=h?"data"+(h-1||""):"parentData",se=h?e.dataPathArr[h]:"parentDataProperty";r+=" , "+U+" , "+se+" , rootData )  ";var ue=r;r=q.pop(),_.errors===!1?(r+=" "+n+" = ",w&&(r+="await "),r+=""+ue+"; "):w?(L="customErrors"+o,r+=" var "+L+" = null; try { "+n+" = await "+ue+"; } catch (e) { "+n+" = false; if (e instanceof ValidationError) "+L+" = e.errors; else throw e; } "):r+=" "+L+" = null; "+n+" = "+ue+"; "}if(_.modifying&&(r+=" if ("+U+") "+g+" = "+U+"["+se+"];"),r+=""+D,_.valid)p&&(r+=" if (true) { ");else{r+=" if ( ",_.valid===void 0?(r+=" !",C?r+=""+H:r+=""+n):r+=" "+!_.valid+" ",r+=") { ",d=S.keyword;var q=q||[];q.push(r),r="";var q=q||[];q.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { keyword: '"+S.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+S.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var ce=r;r=q.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+ce+"]); ":r+=" validate.errors = ["+ce+"]; return false; ":r+=" var err = "+ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=r;r=q.pop(),O?_.errors?_.errors!="full"&&(r+="  for (var "+x+"="+c+"; "+x+"<errors; "+x+"++) { var "+$+" = vErrors["+x+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+$+".schemaPath === undefined) { "+$+'.schemaPath = "'+E+'"; } ',e.opts.verbose&&(r+=" "+$+".schema = "+v+"; "+$+".data = "+g+"; "),r+=" } "):_.errors===!1?r+=" "+B+" ":(r+=" if ("+c+" == errors) { "+B+" } else {  for (var "+x+"="+c+"; "+x+"<errors; "+x+"++) { var "+$+" = vErrors["+x+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+$+".schemaPath === undefined) { "+$+'.schemaPath = "'+E+'"; } ',e.opts.verbose&&(r+=" "+$+".schema = "+v+"; "+$+".data = "+g+"; "),r+=" } } "):C?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { keyword: '"+S.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+S.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):_.errors===!1?r+=" "+B+" ":(r+=" if (Array.isArray("+L+")) { if (vErrors === null) vErrors = "+L+"; else vErrors = vErrors.concat("+L+"); errors = vErrors.length;  for (var "+x+"="+c+"; "+x+"<errors; "+x+"++) { var "+$+" = vErrors["+x+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+e.errorPath+";  "+$+'.schemaPath = "'+E+'";  ',e.opts.verbose&&(r+=" "+$+".schema = "+v+"; "+$+".data = "+g+"; "),r+=" } } else { "+B+" } "),r+=" } ",p&&(r+=" else { ")}return r};const ks="http://json-schema.org/draft-07/schema#",Vs="http://json-schema.org/draft-07/schema#",qs="Core schema meta-schema",Qs={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ms=["object","boolean"],Hs={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var La={$schema:ks,$id:Vs,title:qs,definitions:Qs,type:Ms,properties:Hs,default:!0},ca=La,Ks={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:ca.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:ca.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Bs=/^[a-z_$][a-z0-9_$-]*$/i,Js=Us,Gs=Ks,Ys={add:Xs,get:Zs,remove:Ws,validate:Ir};function Xs(a,e){var t=this.RULES;if(t.keywords[a])throw new Error("Keyword "+a+" is already defined");if(!Bs.test(a))throw new Error("Keyword "+a+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var l=e.type;if(Array.isArray(l))for(var r=0;r<l.length;r++)h(a,l[r],e);else h(a,l,e);var o=e.metaSchema;o&&(e.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(o,!0))}t.keywords[a]=t.all[a]=!0;function h(i,b,E){for(var p,d=0;d<t.length;d++){var g=t[d];if(g.type==b){p=g;break}}p||(p={type:b,rules:[]},t.push(p));var n={keyword:i,definition:E,custom:!0,code:Js,implements:E.implements};p.rules.push(n),t.custom[i]=n}return this}function Zs(a){var e=this.RULES.custom[a];return e?e.definition:this.RULES.keywords[a]||!1}function Ws(a){var e=this.RULES;delete e.keywords[a],delete e.all[a],delete e.custom[a];for(var t=0;t<e.length;t++)for(var l=e[t].rules,r=0;r<l.length;r++)if(l[r].keyword==a){l.splice(r,1);break}return this}function Ir(a,e){Ir.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(Gs,!0);if(t(a))return!0;if(Ir.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}const eo="http://json-schema.org/draft-07/schema#",ro="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ao="Meta-schema for $data reference (JSON Schema extension proposal)",to="object",so=["$data"],oo={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},no=!1;var lo={$schema:eo,$id:ro,description:ao,type:to,required:so,properties:oo,additionalProperties:no},Na=Gt,Te=Tr,io=_a.exports,Ta=ma,fo=Pa,uo=is,ho=Ls,za=Ns,Ua=Qe,co=ee;ee.prototype.validate=mo;ee.prototype.compile=po;ee.prototype.addSchema=go;ee.prototype.addMetaSchema=yo;ee.prototype.validateSchema=Po;ee.prototype.getSchema=So;ee.prototype.removeSchema=_o;ee.prototype.addFormat=Ao;ee.prototype.errorsText=Io;ee.prototype._addSchema=wo;ee.prototype._compile=$o;ee.prototype.compileAsync=zs;var pr=Ys;ee.prototype.addKeyword=pr.add;ee.prototype.getKeyword=pr.get;ee.prototype.removeKeyword=pr.remove;ee.prototype.validateKeyword=pr.validate;var ka=zr;ee.ValidationError=ka.Validation;ee.MissingRefError=ka.MissingRef;ee.$dataMetaSchema=za;var hr="http://json-schema.org/draft-07/schema",va=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],vo=["/properties"];function ee(a){if(!(this instanceof ee))return new ee(a);a=this._opts=Ua.copy(a)||{},To(this),this._schemas={},this._refs={},this._fragments={},this._formats=uo(a.format),this._cache=a.cache||new io,this._loadingSchemas={},this._compilations=[],this.RULES=ho(),this._getId=Do(a),a.loopRequired=a.loopRequired||1/0,a.errorDataPath=="property"&&(a._errorDataPathProperty=!0),a.serialize===void 0&&(a.serialize=fo),this._metaOpts=No(this),a.formats&&jo(this),a.keywords&&Lo(this),xo(this),typeof a.meta=="object"&&this.addMetaSchema(a.meta),a.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),Co(this)}function mo(a,e){var t;if(typeof a=="string"){if(t=this.getSchema(a),!t)throw new Error('no schema with key or ref "'+a+'"')}else{var l=this._addSchema(a);t=l.validate||this._compile(l)}var r=t(e);return t.$async!==!0&&(this.errors=t.errors),r}function po(a,e){var t=this._addSchema(a,void 0,e);return t.validate||this._compile(t)}function go(a,e,t,l){if(Array.isArray(a)){for(var r=0;r<a.length;r++)this.addSchema(a[r],void 0,t,l);return this}var o=this._getId(a);if(o!==void 0&&typeof o!="string")throw new Error("schema id must be string");return e=Te.normalizeId(e||o),qa(this,e),this._schemas[e]=this._addSchema(a,t,l,!0),this}function yo(a,e,t){return this.addSchema(a,e,t,!0),this}function Po(a,e){var t=a.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||Eo(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var l=this.validate(t,a);if(!l&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return l}function Eo(a){var e=a._opts.meta;return a._opts.defaultMeta=typeof e=="object"?a._getId(e)||e:a.getSchema(hr)?hr:void 0,a._opts.defaultMeta}function So(a){var e=Va(this,a);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return bo(this,a)}}function bo(a,e){var t=Te.schema.call(a,{schema:{}},e);if(t){var l=t.schema,r=t.root,o=t.baseId,h=Na.call(a,l,r,void 0,o);return a._fragments[e]=new Ta({ref:e,fragment:!0,schema:l,root:r,baseId:o,validate:h}),h}}function Va(a,e){return e=Te.normalizeId(e),a._schemas[e]||a._refs[e]||a._fragments[e]}function _o(a){if(a instanceof RegExp)return or(this,this._schemas,a),or(this,this._refs,a),this;switch(typeof a){case"undefined":return or(this,this._schemas),or(this,this._refs),this._cache.clear(),this;case"string":var e=Va(this,a);return e&&this._cache.del(e.cacheKey),delete this._schemas[a],delete this._refs[a],this;case"object":var t=this._opts.serialize,l=t?t(a):a;this._cache.del(l);var r=this._getId(a);r&&(r=Te.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function or(a,e,t){for(var l in e){var r=e[l];!r.meta&&(!t||t.test(l))&&(a._cache.del(r.cacheKey),delete e[l])}}function wo(a,e,t,l){if(typeof a!="object"&&typeof a!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,o=r?r(a):a,h=this._cache.get(o);if(h)return h;l=l||this._opts.addUsedSchema!==!1;var i=Te.normalizeId(this._getId(a));i&&l&&qa(this,i);var b=this._opts.validateSchema!==!1&&!e,E;b&&!(E=i&&i==Te.normalizeId(a.$schema))&&this.validateSchema(a,!0);var p=Te.ids.call(this,a),d=new Ta({id:i,schema:a,localRefs:p,cacheKey:o,meta:t});return i[0]!="#"&&l&&(this._refs[i]=d),this._cache.put(o,d),b&&E&&this.validateSchema(a,!0),d}function $o(a,e){if(a.compiling)return a.validate=r,r.schema=a.schema,r.errors=null,r.root=e||r,a.schema.$async===!0&&(r.$async=!0),r;a.compiling=!0;var t;a.meta&&(t=this._opts,this._opts=this._metaOpts);var l;try{l=Na.call(this,a.schema,e,a.localRefs)}catch(o){throw delete a.validate,o}finally{a.compiling=!1,a.meta&&(this._opts=t)}return a.validate=l,a.refs=l.refs,a.refVal=l.refVal,a.root=l.root,l;function r(){var o=a.validate,h=o.apply(this,arguments);return r.errors=o.errors,h}}function Do(a){switch(a.schemaId){case"auto":return Oo;case"id":return Ro;default:return Fo}}function Ro(a){return a.$id&&this.logger.warn("schema $id ignored",a.$id),a.id}function Fo(a){return a.id&&this.logger.warn("schema id ignored",a.id),a.$id}function Oo(a){if(a.$id&&a.id&&a.$id!=a.id)throw new Error("schema $id is different from id");return a.$id||a.id}function Io(a,e){if(a=a||this.errors,!a)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,l=e.dataVar===void 0?"data":e.dataVar,r="",o=0;o<a.length;o++){var h=a[o];h&&(r+=l+h.dataPath+" "+h.message+t)}return r.slice(0,-t.length)}function Ao(a,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[a]=e,this}function xo(a){var e;if(a._opts.$data&&(e=lo,a.addMetaSchema(e,e.$id,!0)),a._opts.meta!==!1){var t=La;a._opts.$data&&(t=za(t,vo)),a.addMetaSchema(t,hr,!0),a._refs["http://json-schema.org/schema"]=hr}}function Co(a){var e=a._opts.schemas;if(!!e)if(Array.isArray(e))a.addSchema(e);else for(var t in e)a.addSchema(e[t],t)}function jo(a){for(var e in a._opts.formats){var t=a._opts.formats[e];a.addFormat(e,t)}}function Lo(a){for(var e in a._opts.keywords){var t=a._opts.keywords[e];a.addKeyword(e,t)}}function qa(a,e){if(a._schemas[e]||a._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function No(a){for(var e=Ua.copy(a._opts),t=0;t<va.length;t++)delete e[va[t]];return e}function To(a){var e=a._opts.logger;if(e===!1)a.logger={log:br,warn:br,error:br};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");a.logger=e}}function br(){}var zo={type:"object",required:["name"],properties:{name:{type:"string"},white:{type:"array",items:{type:"object",properties:{text:{type:"string"}}}},black:{type:"array",items:{type:"object",properties:{text:{type:"string"},pick:{type:"integer"}}}}}};const Uo={data(){return{decks:[],customDecks:[],finishedReading:!0,error:""}},computed:{getPackCount(){let a=this.decks.filter(e=>e.checked);return a=[...a,...this.customDecks.map(e=>({name:e.name}))],a.length},getWhiteCards(){let a=this.decks.filter(e=>e.checked);return a=[...a,...this.customDecks.map(e=>({name:e.name,black:e.black.length,white:e.white.length}))],a.length>0?a.map(e=>e.white).reduce((e,t)=>e+t):0},getBlackCards(){let a=this.decks.filter(e=>e.checked);return a=[...a,...this.customDecks.map(e=>({name:e.name,black:e.black.length,white:e.white.length}))],a.length>0?a.map(e=>e.black).reduce((e,t)=>e+t):0}},methods:{fetchDecks:async function(){try{const a=await ra("/decks","GET",void 0);this.decks=a.map(e=>({name:e.name,white:e.white,black:e.black,checked:!1}))}catch(a){this.error=a}},updateFiles:function(a){this.customDecks=[],this.finishedReading=!1;const e=new FileReader;e.addEventListener("load",t=>{let l;try{if(l=JSON.parse(t.target.result),!this.validate(l))throw"In valid pack format"}catch(r){this.customDecks=[],a.target.value="",console.error(r),alert("one of your files is not in the correct JSON format")}this.customDecks.push(l),this.finishedReading=!0}),a.target.files.forEach(t=>{e.readAsText(t)})},createGame:async function(){try{const a=await ra("/createGame","POST",{decks:this.decks.filter(e=>e.checked).map(e=>e.name),customDecks:this.customDecks});if(a.error)throw a.error;a.roomID?this.$router.push(`/game/${a.roomID}`):this.error="An error occurred, the room may or may not have been created"}catch(a){console.error(a),this.error="An error occurred, failed to create the room"}}},created(){this.fetchDecks();const a=new co;this.validate=a.compile(zo)}},Xe=a=>(ct("data-v-6e250ce6"),a=a(),vt(),a),ko={class:"create"},Vo={class:"decks"},qo=["for","textContent"],Qo=["onUpdate:modelValue","id"],Mo={class:"upload"},Ho=Xe(()=>ge("p",null,"Additionally you can upload your own Pack here: ",-1)),Ko=Ge(),Bo=Xe(()=>ge("br",null,null,-1)),Jo=Xe(()=>ge("br",null,null,-1)),Go=Ge(" for more information's visit "),Yo=Ge("help"),Xo=Xe(()=>ge("input",{type:"submit",value:"submit"},null,-1)),Zo={key:1,class:"errorBox"},Wo=Xe(()=>ge("p",null,[Ge(" Opps you have encountered some error. "),ge("br"),Ge("The server is not responding. Please try again later ")],-1)),en=[Wo],rn={key:2,class:"cardCount"};function an(a,e,t,l,r,o){const h=ot("router-link");return Ve(),qe("div",ko,[r.error?(Ve(),qe("div",Zo,en)):(Ve(),qe("form",{key:0,action:"/",onSubmit:e[1]||(e[1]=nt((...i)=>o.createGame&&o.createGame(...i),["prevent"])),method:"post"},[ge("div",Vo,[(Ve(!0),qe(lt,null,it(r.decks,(i,b)=>(Ve(),qe("div",{key:b},[ge("label",{for:b,textContent:ar(i.name)},null,8,qo),dt(ge("input",{type:"checkbox","onUpdate:modelValue":E=>i.checked=E,id:b},null,8,Qo),[[mt,i.checked]])]))),128))]),ge("div",Mo,[Ho,Ko,Bo,Jo,ge("input",{type:"file",name:"files",id:"file",onChange:e[0]||(e[0]=(...i)=>o.updateFiles&&o.updateFiles(...i)),accept:".json",multiple:""},null,32),Go,ft(h,{to:"/help"},{default:ut(()=>[Yo]),_:1})]),Xo],32)),r.error?ht("",!0):(Ve(),qe("div",rn,[ge("p",null,"Number of packs: "+ar(o.getPackCount),1),ge("p",null,"Number of white cards: "+ar(o.getWhiteCards),1),ge("p",null,"Number of black cards: "+ar(o.getBlackCards),1)]))])}var on=st(Uo,[["render",an],["__scopeId","data-v-6e250ce6"]]);export{on as default};
